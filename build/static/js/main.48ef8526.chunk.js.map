{"version":3,"sources":["request/config.ts","util/index.ts","request/index.ts","hoc/withParentClass.tsx","hoc/withScreenShow.tsx","constant/index.ts","state.ts","platform.ts","github/serve.ts","github/cache.ts","components/content-layer/index.tsx","app/layout/content/index.tsx","components/content-layer/style.module.scss","components/navigation/style.module.scss","components/navigation/index.tsx","app/layout/slide/style.module.scss","request/setup.ts","components/loading/index.tsx","app/style.module.scss","views/home/style.module.scss","components/column-item/style.module.scss","views/article/index.tsx","views/article/style.module.scss","app/layout/content/style.module.scss","app/layout/theme/style.module.scss","components/loading/style.module.scss","views/auth/style.module.scss","components/column-item/index.tsx","app/layout/theme/index.tsx","views/home/index.tsx","views/special/index.tsx","views/archive/index.tsx","views/auth/index.tsx","router/tool.ts","router/index.ts","assets/images/portrait.jpg","app/layout/slide/index.tsx","app/index.tsx","client.tsx"],"names":["article","process","columns","userInfo","authorize","token","articleReactions","articleReaction","comments","comment","commentReactions","commentReaction","analysisMarked","marked","renderer","gfm","breaks","pedantic","sanitize","smartLists","smartypants","highlight","code","lang","prismjs","str","debounce","fn","timeout","delay","args","clearTimeout","setTimeout","apply","place","equalUrl","tempUrl","url","urlRgStr","replace","_","d","RegExp","test","gendUrl","params","m","preIndex","exec","substring","index","length","substr","strToParams","rgRet","result","splitRG","match","objectToString","Object","prototype","toString","toRawType","value","call","toTypeString","slice","recursionCopy","from","to","toKeys","keys","fromKeys","toKey","toItem","i","fromKey","fromItem","fromItemType","toItemType","formatDate","date","fmt","map","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","$1","getFullYear","forEach","k","val","getPostionByTarget","origin","target","isIncludeSelf","pos","x","y","temporary","document","documentElement","offsetLeft","offsetTop","offsetParent","offsetWidth","offsetHeight","config","urls","axios","setupFactory","addIntercept","authIntercept","pathIntercepet","commentIntercepet","cloneAttachElement","instance","attchClass","type","children","props","className","React","Array","isArray","item","witchParentClass","Component","ref","setSignElement","refs","GrentRefsAndCloneElement","cloneInstance","eleRefs","push","attachProps","ele","getViewBoundingRect","view","__WithScreenViewBox","getBox","box","Promise","resolve","then","setBox","window","scrollX","scrollY","width","innerWidth","height","innerHeight","scrollLeft","scrollTop","clientWidth","clientHeight","getElPagePos","el","parent","getBoundingPageRect","base","elRect","getBoundingClientRect","viewRect","isShowViewAppear","listenElesAppear","viewMaps","Map","scrollHandler","has","this","get","eles","cb","previous","isDispersion","isShow","__previous","onShowChange","maps","set","addEventListener","bind","indexOf","splice","delete","removeEventListener","withScreenShow","component","forwardRef","selector","newInstance","getEles","current","filter","Boolean","reduce","t","c","concat","querySelectorAll","goto","offset","offsetX","offsetY","scrollTo","appName","clientId","clientSecret","redirectUri","owner","repo","issuesLabel","scope","state","statePromises","injectState","data","useGlobalState","key","getPromise","transform","defaultVal","statePromise","setTransformValue","setValue","catch","platform","injectPlatform","api","setAppTitle","title","name","isLocalAuth","tokenConfig","getStoreTokenConfig","getAuthLink","makerHist","getUri","client_id","redirect_uri","auth","location","href","getToken","post","client_secret","res","access_token","setStoreTokenConfig","reqHandler","headers","Authorization","Error","paths","method","toUpperCase","labels","store","global","sessionStorage","getItem","setItem","removeItem","GetTokenKey","JSON","parse","stringify","Hist","recoveryHist","pathname","ContentLayer","showRight","setShowRight","rightClass","style","active","layer","main","bottom","onClick","right","Content","rel","module","exports","navIsActive","activeItem","NavContent","isChildren","clickHandle","ev","stopPropagation","isActive","Suffix","NavsContent","attachHeight","list","dom","ItemContent","__scrollComponent","itemRef","setHeight","attchStyle","maxHeight","parentElement","classList","add","remove","Navigation","setEl","some","citem","content","needs","processAxios","intercept","tapIntercept","handler","need","temp","errorHandler","errHandler","reject","interceptors","request","use","ret","attach","CancelToken","source","cancel","response","status","resHandler","Loading","loading","setLoading","startLoading","stopLoading","color","Interact","LoadEle","ScreenLoadEle","navsToDirs","navs","id","toLowerCase","findDir","dirs","dir","cdir","MarkerBody","html","divRef","innerHTML","ArticleInfo","useParams","showInteract","setShowInteract","setActive","head","foot","body","app","Date","mtime","textContent","fallback","hash","replaceAll","articles","queryRoutePath","desc","ScrollColumnItem","ColumnItem","ScrollGroupMange","scrollShowColumns","setShowColumnsActive","includes","columnShowChange","column","Theme","columnEles","ArticleItem","Home","sort","a","b","ctime","Special","yearColumns","ident","yearColumn","find","Step","stepMsg","UN","AUTH_ALLOW","AUTH_REFUSE","TOKEN_REQ","TOKEN_SUCCESS","TOKEN_ERR","Auth","step","setStep","next","newStep","asyncSteps","steps","search","queryRoute","router","qname","route","croute","normalize","nRouter","path","Archive","Article","home","homePath","toolQueryRoute","toolGeneratePath","navsConfig","text","Slide","styles","slide","src","portrait","alt","introduce","App","views","exact","globalState","getAppTitle","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.48ef8526.chunk.js","sourcesContent":["// -------------文章----------------\nexport const article = process.env.getArticleApi as 'getArticle'\n\n// -------------类别-----------------\nexport const columns = process.env.getColumnListApi as 'getColumnList'\n\n\n// ------------获取用户信息--------------\n// 获取用户信息\nexport const userInfo = `https://api.github.com/user`\n// 信息认证\nexport const authorize = `https://github.com/login/oauth/authorize`\n// 获取token\nexport const token = `https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token`\n\n\n// --------------文章互动-------------------\n// 文章互动数据\nexport const articleReactions = `https://api.github.com/repos/:owner/:repo/issues/:id/reactions`\n// 删除文章互动数据\nexport const articleReaction = `https://api.github.com/repos/:owner/:repo/issues/:id/reactions/:reactionId`\n\n\n\n\n// -------------评论-------------------\n// 评论数据\nexport const comments = `https://api.github.com/repos/:owner/:repo/issues/:issuesId/comments`\nexport const comment = `https://api.github.com/repos/:owner/:repo/issues/comments/:commentId`\n\n\n// -------------评论互动----------------\n// 评论互动数据\nexport const commentReactions = `https://api.github.com/repos/:owner/:repo/issues/comments/:id/reactions`\n// 删除评论互动数据\nexport const commentReaction = `https://api.github.com/repos/:owner/:repo/issues/comments/:id/reactions/:reactionId`","import * as marked from 'marked'\nimport * as prismjs from 'prismjs'\n\n// 解析mardown文本\nexport const analysisMarked = (() => {\n  marked.setOptions({\n    renderer: new marked.Renderer(),\n    gfm: true,\n    breaks: true,\n    pedantic: false,\n    sanitize: false,\n    smartLists: true,\n    smartypants: false,\n    highlight: function (code,lang) {\n      if (prismjs.languages[lang]) {\n        return prismjs.highlight(code, prismjs.languages[lang], lang)\n      } else {\n        return prismjs.highlight(code, prismjs.languages['plaintext'], 'plaintext')\n      }\n    }\n  });\n\n  return (str: string) => marked(str)\n})();\n\n// 节流\nexport const throttle = (fn: Function, delay: number = 160) => {\n  let previous = 0\n\n  return function<Args extends Array<any>, This>(\n    this: This, ...args: Args\n  ) {\n    const now = Date.now()\n    if (now - previous >= delay) {\n      fn.apply(this, args)\n      previous = now\n    }\n  }\n}\n\n// 防抖\nexport const debounce = (fn: Function, delay: number = 160) => {\n  let timeout: NodeJS.Timeout\n\n  return function<Args extends Array<any>, This>(\n    this: This, ...args: Args\n  ) {\n    clearTimeout(timeout)\n    setTimeout(() => {\n      fn.apply(this, ...args)\n    }, delay)\n  }\n}\n\n\n\nconst place = /(?:\\/:([^/]*))/g\n// 匹配 /:id 是否匹配某个url\nexport const equalUrl = (tempUrl: string, url: string) => {\n  const urlRgStr = tempUrl.replace(/\\/([^:])/g,(_, d) => `\\\\/${d}`)\n    .replace(place, () => `(?:/[^/]*)`)\n  \n  return new RegExp(urlRgStr).test(url)\n}\n\n// 生成/:id 类真实url\nexport const gendUrl = (tempUrl: string, params: { [key: string]: any}) => {\n  let url = ''\n  let preIndex = 0\n  let m\n\n  while ((m = place.exec(tempUrl))) {\n    url += tempUrl.substring(preIndex,  m.index + 1) + (params[m[1]] || 'null')\n    preIndex = m.index + m[0].length\n  }\n  url += tempUrl.substr(preIndex)\n  return url\n}\n\nexport const includesUrl = (tempUrls: Array<string> | readonly string[], url: string) =>\n  tempUrls.some(tempUrl => equalUrl(tempUrl, url)) \n\n  \nexport const strToParams = (str: string) => {\n  if (str[0] === '?') {\n    str = str.substr(1)\n  }\n\n  const result: { [key: string]: string } = {}\n  const splitRG = /([^=&]+)(?:=([^&]*))?&?/\n\n  let rgRet\n  while ((rgRet = str.match(splitRG))) {\n    result[rgRet[1]] = rgRet[2]\n    str = str.substr(rgRet[0].length)\n  }\n  \n  return result\n}\n\nexport const paramsToStr = (params: { [key: string]: string }) => \n  '?' + Object.keys(params)\n    .map(key => `${key}${params[key] == null ? '' : `=${params[key]}`}`)\n    .join('&')\n\n\nexport const objectToString = Object.prototype.toString\nexport const toTypeString = (value: unknown): string =>\n  objectToString.call(value)\n\nexport const toRawType = (value: unknown): string => {\n  // extract \"RawType\" from strings like \"[object RawType]\"\n  return toTypeString(value).slice(8, -1)\n}\n    \n\n// 递归复制\nexport const recursionCopy = <T extends object, R extends object>(from: R, to: T): T & R => {\n  if (toRawType(from) !== toRawType(to)) {\n    return to as T & R\n  }\n\n  const toKeys = Object.keys(to)\n  const fromKeys = Object.keys(from)\n  const result = { ...from } as T & R\n\n  for (const toKey of toKeys) {\n    const toItem = (to as any)[toKey]\n\n    let i = 0;\n    for (; i < fromKeys.length; i++) {\n      const fromKey = fromKeys[i]\n      if (toKey === fromKey) {\n        const fromItem = (from as any)[fromKey]\n        const fromItemType = toRawType(fromItem)\n        const toItemType = toRawType(toItem)\n\n        if (fromItemType === toItemType \n            && (fromItemType === 'Object' \n              || fromItemType === 'Array')\n        ) {\n          (result as any)[fromKey] = recursionCopy(fromItem, toItem)\n        } else {\n          (result as any)[fromKey] = toItem\n        }\n\n        break;\n      }\n    }\n\n    if (i === fromKeys.length) {\n      (result as any)[toKey] = toItem\n    }\n  }\n\n  return result\n}\n\n\n// 日期格式化\nexport const formatDate = (date: Date, fmt: string = 'yyyy-MM-dd hh:mm') => { \n  const map = { \n     \"M+\" : date.getMonth()+1,                 //月份 \n     \"d+\" : date.getDate(),                    //日 \n     \"h+\" : date.getHours(),                   //小时 \n     \"m+\" : date.getMinutes(),                 //分 \n     \"s+\" : date.getSeconds(),                 //秒 \n     \"q+\" : Math.floor((date.getMonth()+3)/3), //季度 \n     \"S\"  : date.getMilliseconds()             //毫秒 \n  }; \n\n  if(/(y+)/.test(fmt)) {\n    fmt = fmt.replace(\n      RegExp.$1, \n      date.getFullYear().toString().substr(4 - RegExp.$1.length)\n    ); \n  };\n\n  (Object.keys(map) as Array<keyof typeof map>)\n    .forEach(k => {\n      if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n        const val = map[k].toString()\n        fmt = fmt.replace(\n          RegExp.$1, \n          RegExp.$1.length === 1 \n            ? val\n            : (\"00\" + val).substr(val.length)\n        );\n      }\n    })\n    \n return fmt; \n}\n\nexport const getPostionByTarget = (\n  origin: HTMLElement, \n  target: HTMLElement,\n  isIncludeSelf: boolean = false\n) => {\n  const pos = { x: 0, y: 0 }\n\n  let temporary: null | HTMLElement = origin\n  while (temporary \n    && temporary !== target \n    && temporary !== document.documentElement\n  ) {\n    pos.x += temporary.offsetLeft\n    pos.y += temporary.offsetTop\n    temporary = temporary.offsetParent as HTMLElement | null\n  }\n\n  if (isIncludeSelf) {\n    pos.x += origin.offsetWidth\n    pos.y += origin.offsetHeight\n  }\n\n  return pos\n}","import { \n  setupFactory, \n  ExtractInterfacesURL, \n  ExtractInterfacesMethodURL, \n  ExtractInterfacesMethod,\n  defVoid,\n  ExtractInterface\n} from './setup'\nimport * as urls from './config'\nimport { Interfaces } from './interface'\nimport { authIntercept, pathIntercepet, commentIntercepet } from 'src/github'\n\n\n// 所有method\nexport type Method = ExtractInterfacesMethod<Interfaces>\n\n// 获取接口\nexport type URL<T extends Method | defVoid = defVoid> = \n  T extends defVoid\n    ? ExtractInterfacesURL<Interfaces>\n    : ExtractInterfacesMethodURL<Interfaces, T>\n\n// 获取指定接口声明\nexport type Interface<\n  T extends URL, \n  R extends Method | defVoid = defVoid\n> = ExtractInterface<Interfaces, T, R>\n  \n\n\nexport * from './model'\nexport * from './interface'\nexport * from './setup'\nexport * from './interface'\n\nexport const config = urls\nexport const axios = setupFactory<Interfaces>()\n  .addIntercept(authIntercept)\n  .addIntercept(pathIntercepet)\n  .addIntercept(commentIntercepet)\n\nexport default axios","import * as React from 'react'\nimport { Component } from './index'\n\ntype WitchParentAttachProps = {\n  className?: string\n}\n\nconst cloneAttachElement = (instance: React.ReactElement<any>, attchClass: string): React.ReactElement => {\n  const type = instance.type\n  let children = instance.props.children\n  let className = instance.props.className\n\n  if (type === React.Fragment && children) {\n    if (Array.isArray(children)) {\n      children = children.map(\n        item => cloneAttachElement(item, attchClass)\n      )\n    } else {\n      children = cloneAttachElement(children, attchClass)\n    }\n  } else {\n    className = className ? `${className} ${attchClass}` : attchClass\n  }\n\n  return React.cloneElement(\n    instance,\n    {\n      ...instance.props,\n      children,\n      className\n    }\n  )\n}\n\n\nexport const witchParentClass = <\n  P extends object = {},\n> (Component: Component<P>)  => {\n\n  return ({ className, ...props }: P & WitchParentAttachProps, ref?: any) => {\n    const instance = Component(props as P, ref)\n    return className && instance\n      ? cloneAttachElement(instance, className)\n      : instance\n  }\n\n}\n","import * as React from 'react'\nimport { Component } from './index'\nimport { debounce } from 'src/util'\n\nexport type WithScreenRef = React.RefObject<{ goto: (offset?: Offset) => void } | null>\nexport type WithScreenAttachProps<T> = { \n  onShowChange?: ShowChange<T extends string ? true : false>, \n  selector?: T, \n  forwardRef?: WithScreenRef \n}\nexport type ShowChange<T extends boolean = true> = (isShow: boolean, dom: T extends true ? HTMLElement : void) => void\ntype Ele = React.ReactElement<any>\ntype Ref = React.RefObject<HTMLElement | null>\ntype Offset = { x?: number | 'center', y?: number | 'center' }\ntype ViewBox = { width: number, height: number, x: number, y: number }\ntype View = (Window | HTMLElement) & { __WithScreenViewBox?: ViewBox }\n\nconst setSignElement = (\n  instance: Ele,\n  refs: Array<Ref>,\n  children?: Array<Ele>,\n) => {\n  const [cloneInstance, eleRefs] = GrentRefsAndCloneElement(instance)\n  children && children.push(cloneInstance)\n  refs.push(...eleRefs)\n  return children\n}\n\nconst GrentRefsAndCloneElement = (instance: Ele): [Ele, Array<Ref>] => {\n  const refs: Array<Ref> = []\n  const attachProps: any = {}\n  const type = instance.type\n  \n  if (type === React.Fragment || typeof type !== 'string') {\n    let children = instance.props.children\n    if (children) {\n      children = Array.isArray(children)\n        ? children.map(ele => setSignElement(ele, refs))\n        : setSignElement(children, refs)\n    }\n    attachProps.children = children\n  } else {\n    let ref: Ref = React.createRef();\n    attachProps.ref = ref\n    refs.push(ref)\n  }\n\n  const newInstance = React.cloneElement(\n    instance, \n    {\n      ...instance.props,\n      ...attachProps\n    }\n  )\n\n  return [newInstance, refs]\n}\n\n\nconst getBox = (view: View) => view.__WithScreenViewBox\nconst setBox = (view: View, box: ViewBox)  => {\n  view.__WithScreenViewBox = box\n  Promise.resolve().then(() => delete view.__WithScreenViewBox)\n  return box\n}\n\nconst getViewBoundingRect = (view: View): ViewBox => \n  getBox(view) || setBox(\n    view, \n    view === window \n      ? {\n          x: view.scrollX,\n          y: view.scrollY,\n          width: view.innerWidth,\n          height: view.innerHeight\n        } \n      : {\n        x: (view as HTMLElement).scrollLeft,\n        y: (view as HTMLElement).scrollTop,\n        width: (view as HTMLElement).clientWidth,\n        height: (view as HTMLElement).clientHeight,\n      }\n  )\n\nconst getElPagePos = (el: HTMLElement, target?: HTMLElement) => {\n  let parent: HTMLElement | false = el\n  let x = 0, y = 0\n  while (parent && parent !== target && parent !== document.documentElement) {\n    x += parent.offsetLeft\n    y += parent.offsetTop\n    parent = parent.offsetParent as HTMLElement\n  }\n\n  return {x, y, target: parent}\n}\n\nconst getBoundingPageRect = (view: View, el: HTMLElement) => {\n  const base = {\n    width: el.offsetWidth,\n    height: el.offsetHeight,\n  }\n\n  // console.log(view)\n  if (view !== window) {\n    let { x, y, target } = getElPagePos(el, view as HTMLElement)\n\n    if (target !== view) {\n      let { x: vx, y: vy} = getElPagePos(view as HTMLElement)\n      x -= vx\n      y -= vy\n    }\n    return {\n      ...base,\n      x,\n      y\n    }\n  } else {\n    const elRect = el.getBoundingClientRect()\n    const viewRect = getViewBoundingRect(view) \n    return {\n      ...base,\n      x: viewRect.x + elRect.x,\n      y: viewRect.y + elRect.y\n    }\n  }\n}\n\nconst isShowViewAppear = (view: View, el: HTMLElement) => {\n  const elRect = getBoundingPageRect(view, el)\n  const viewRect = getViewBoundingRect(view)\n\n  return !(elRect.x > viewRect.x + viewRect.width || \n    viewRect.x > elRect.x + elRect.width ||\n    elRect.y > viewRect.y + viewRect.height ||\n    viewRect.y > elRect.y + elRect.height)\n}\n\n\nconst listenElesAppear = (() => {\n  type MapVal = { \n    eles: Array<HTMLElement & { __previous?: boolean  }>, \n    cb: ShowChange<MapVal['isDispersion']>, \n    isDispersion: boolean,\n    previous?: boolean \n  }\n  const viewMaps = new Map<\n    View, \n    Array<MapVal>\n  >()\n\n  const scrollHandler = debounce(\n    function (this: View) {\n      if (!viewMaps.has(this)) return;\n      const maps = viewMaps.get(this)\n\n      maps!.forEach(map => {\n        const { eles, cb, previous, isDispersion } = map\n        \n        for (let ele of eles) {\n          const isShow = isShowViewAppear(this, ele)\n          const prevShow = isDispersion ? ele.__previous : previous\n\n          if (isShow !== !!prevShow)  {\n            if (isDispersion) {\n              cb(isShow, ele)\n              ele.__previous = isShow\n            } else {\n              cb(isShow)\n              map.previous = isShow\n              return;\n            }\n          }\n        }\n      })\n    }\n  )\n\n  return <T extends boolean>(view: View, eles: Array<HTMLElement>, onShowChange: ShowChange<T>, isDispersion: T) => {\n    const item = { eles, cb: onShowChange, isDispersion }\n    let maps = viewMaps.get(view)\n    \n    if (!maps) {\n      maps = []\n      viewMaps.set(view, maps)\n      view.addEventListener('scroll', scrollHandler)\n    }\n    // 自动触发第一次\n    setTimeout(() => scrollHandler.bind(view)(), 500)\n    maps.push(item)\n\n    return () => {\n      const maps = viewMaps.get(view)\n      const index = maps!.indexOf(item)\n      if (index > -1) {\n        maps!.splice(index, 1)\n        if (maps!.length) return;\n      }\n      viewMaps.delete(view)\n      view.removeEventListener('scroll', scrollHandler)\n    }\n  }\n})();\n\nexport const withScreenShow = <P extends object>(\n  component: Component<P>, \n  view: View | undefined = typeof window === 'undefined' ? void 0 : window\n) => {\n  if (!view) return component\n\n  return <T extends string|void>({ onShowChange, forwardRef, selector, ...props }: P & WithScreenAttachProps<T>, ref?: any) => {\n    const instance = component(props as P, ref)\n    if (instance && (onShowChange || forwardRef)) {\n      const [newInstance, refs] = GrentRefsAndCloneElement(instance)\n      const getEles = () => refs.map(ref => ref.current)\n        .filter(Boolean) as Array<HTMLElement>\n\n      \n      React.useEffect(() => \n        onShowChange && listenElesAppear(\n          view, \n          selector \n            ? getEles().reduce(\n              (t, c) => \n                t.concat(Array.from(c.querySelectorAll(selector))), \n              []\n            ) \n            : getEles(), \n          onShowChange, \n          !!selector\n        ) \n      )\n\n      if (forwardRef) {\n        React.useImperativeHandle(forwardRef, () => ({\n          goto(offset?: Offset) {\n            const eles = getEles()\n            if (eles.length) {\n              const elRect = getBoundingPageRect(view, eles[0])\n              const viewRect = getViewBoundingRect(view)\n              const offsetX = offset\n                ? offset.x === 'center' \n                  ? viewRect.width / 2\n                  : offset.x ? offset.x : 0\n                : 0\n              const offsetY = offset\n                ? offset.y === 'center' \n                  ? viewRect.height / 2\n                  : offset.y ? offset.y : 0\n                : 0\n              view.scrollTo(elRect.x - offsetX, elRect.y - offsetY)\n            }\n          }\n        }))\n      }\n\n      return newInstance\n    } else {\n      return instance\n    }\n  }\n}","export const appName = `bill-lai 的博客`\n\nexport const clientId = `dbac9f422a3f03c121f1`\nexport const clientSecret = `0ff3e40d5731db62a835ce1f39cd7cdafff5a70a`\nexport const redirectUri = `https://bill-lai.github.io/auth`\nexport const owner = `bill-lai`\nexport const repo = `bill-lai.github.io`\nexport const issuesLabel = `${owner}-blog`\nexport const scope = `public_repo`\n","import * as React from 'react'\n\nlet state: { [key: string]: any } = { }\n\nexport const statePromises: { [key: string]: Promise<any> } = { }\n\nexport const injectState = (data: { [key: string]: any }) => {\n  state = {\n    ...state,\n    ...data\n  }\n}\n\nexport function useGlobalState<T>(\n  key: string, \n  getPromise: () => Promise<T>,\n): [\n  T | undefined, \n  React.Dispatch<React.SetStateAction<T>>\n]\n\nexport function useGlobalState<T>(\n  key: string, \n  getPromise: () => Promise<T>,\n  defaultVal: T\n): [\n  T, \n  React.Dispatch<React.SetStateAction<T>>\n]\n\nexport function useGlobalState<T, K>(\n  key: string, \n  getPromise: () => Promise<T>,\n  transform: (data: T) => K,\n): [\n  K | undefined, \n  React.Dispatch<React.SetStateAction<K | undefined>>, \n  (data: T) => void\n]\n\nexport function useGlobalState<T, K>(\n  key: string, \n  getPromise: () => Promise<T>,\n  transform: (data: T) => K,\n  defaultVal: T,\n): [\n  K, \n  React.Dispatch<React.SetStateAction<K>>, \n  (data: T) => void\n]\n\n\nexport function useGlobalState <T, K>(\n  key: string, \n  getPromise: () => Promise<T>, \n  transform?: (data: T) => K,\n  defaultVal?: T,\n) {\n  if (typeof transform !== 'function') {\n    defaultVal = transform\n    transform = void 0\n  }\n\n  if (key in state) {\n    defaultVal = state[key]\n  } else {\n    const promise = statePromises[key] || getPromise()\n    const statePromise = promise.then(\n      data => {\n        setTransformValue\n          ? setTransformValue(data)\n          : setValue(data)\n        state[key] = data\n        delete statePromises[key]\n        return data\n      }\n    )\n\n    statePromises[key] = statePromise\n    statePromise.catch(() => delete statePromises[key])\n  }\n\n  const setTransformValue = transform && ((value: T) => \n    setValue((transform as (data: T) => K)(value))\n  )\n  \n  const [value, setValue] = React.useState(\n    defaultVal && (transform ? transform(defaultVal) : defaultVal)\n  )\n\n\n  return [\n    value, \n    setValue,\n    setTransformValue\n  ]\n}\n","import { appName } from './constant'\n\ntype Platform = {\n  setAppTitle: (title: string) => void,\n  getAppTitle: () => string\n}\n\nlet platform: undefined | Platform\n\nexport const injectPlatform = (current: Platform) => platform = current\n\n\ntype ApiNames = Array<keyof Platform>\ntype Api = {\n  [key in keyof Platform]: Platform[key] \n}\n\nconst apiNames: ApiNames = [\n  'getAppTitle'\n]\n\nexport const api = {\n  setAppTitle(title) {\n    if (platform) {\n      platform.setAppTitle((title && title + ` | `) + appName)\n    }\n  }\n} as Api\napiNames.forEach(name => {\n  (api as any)[name] = (...args: [any]) => \n    platform && platform[name](...args)\n})\n\nexport default api","import axios from 'src/request'\nimport * as config from 'src/request/config'\nimport { strToParams } from 'src/util'\nimport { \n  getStoreTokenConfig, \n  makerHist, \n  setStoreTokenConfig \n} from './cache'\nimport {\n  clientId,\n  clientSecret,\n  owner,\n  redirectUri,\n  repo,\n  scope,\n  issuesLabel\n} from 'src/constant'\n\n\n\n// 本地是否已授权\nexport const isLocalAuth = () => {\n  const tokenConfig = getStoreTokenConfig()\n  return !!(tokenConfig && tokenConfig.token)\n}\n\n// 获取授权链接\nexport const getAuthLink = () => {\n  makerHist()\n\n  return axios.getUri({\n    url: config.authorize,\n    params: {\n      client_id: clientId,\n      redirect_uri: redirectUri,\n      scope,\n    }\n  })\n}\n\n// 跳转到授权\nexport const auth = () => {\n  window.location.href = getAuthLink()\n}\n\n\n// 获取token\nexport const getToken = (code?: string) => {\n  const tokenConfig = getStoreTokenConfig()\n  if (tokenConfig) {\n    if (!code && tokenConfig.code === code) {\n      return Promise.resolve(tokenConfig.token)\n    }\n  } \n  \n  if (code) {\n    return axios.post(config.token, {\n      client_id: clientId,\n      client_secret: clientSecret,\n      code\n    }).then((res) => {\n      \n      const { access_token } = strToParams(res)\n      if (access_token) {\n        setStoreTokenConfig({code, token: access_token})\n        return access_token \n      } else {\n        return null\n      }\n    })\n  } else {\n    return Promise.resolve(null)\n  }\n}\n\n// 接口附加拦截\nexport const authIntercept = {\n  reqHandler() {\n    const tokenConfig = getStoreTokenConfig()\n    if (!tokenConfig) {\n      throw new Error('未登录')\n    } else {\n      return {\n        headers: {\n          Authorization: `token ${tokenConfig.token}`\n        }\n      }\n    }\n  },\n  urls: [\n    config.userInfo,\n    [config.comments, 'POST'],\n    [config.comment, 'DELETE'],\n    [config.comment, 'PATCH'],\n    [config.articleReactions, 'POST'],\n    [config.articleReaction, 'DELETE'],\n    [config.commentReactions, 'POST'],\n    [config.commentReaction, 'DELETE'],\n  ] as const\n}\n\n// 路径拦截器\nexport const pathIntercepet = {\n  reqHandler: () => ({ paths: { owner, repo } }),\n  urls: [\n    config.comments,\n    config.articleReactions,\n    config.articleReaction,\n    config.commentReactions,\n    config.commentReaction,\n    config.comment\n  ] as const\n}\n\nexport const commentIntercepet = {\n  reqHandler: (config: any) => {\n    if (config.method.toUpperCase() === 'GET') {\n      return {\n        params: {\n          labels: issuesLabel\n        }\n      }\n    } else if (config.method.toUpperCase() === 'POST') {\n      config.data.labels.push(issuesLabel)\n    }\n  },\n  urls: [\n    config.comments\n  ] as const\n}","const store = global.sessionStorage || {\n  getItem() {\n    return undefined\n  },\n  setItem() {\n\n  },\n  removeItem() {\n    \n  }\n}\n\ntype SessionToken = {\n  token: string,\n  code: string\n}\nconst GetTokenKey = `getToken`\n\n// 获取token配置\nexport const getStoreTokenConfig = (): SessionToken | null => {\n  const token = store.getItem(GetTokenKey)\n  if (token) {\n    try {\n      return JSON.parse(token)\n    } catch {\n      store.removeItem(GetTokenKey)\n    }\n  }\n  return null\n}\n\n// 设置token配置\nexport const setStoreTokenConfig = (config: SessionToken) => \n  store.setItem(GetTokenKey, JSON.stringify(config))\n\n// 删除token配置\nexport const delStoreTokenConfig = () =>\n  store.removeItem(GetTokenKey)\n\n\n\n\n\nconst Hist = `originPathname`\n\n// 恢复上次跳转授权\nexport const recoveryHist = () => {\n  const pathname = store.getItem(Hist) || '/'\n  if (pathname !== window.location.pathname) {\n    window.location.pathname = pathname\n    store.removeItem(Hist)\n  }\n}\n\nexport const makerHist = (url?: string) =>\n  store.setItem(Hist, url || window.location.pathname)","import * as React from 'react'\nimport style from './style.module.scss'\n\nexport type ContentLayerProps = {\n  main: React.ReactElement,\n  right?: React.ReactElement,\n  bottom?: React.ReactElement\n}\n\nexport const ContentLayer = (props: ContentLayerProps) => {\n  const [showRight, setShowRight] = React.useState(false)\n  const rightClass = showRight ? style.active : ''\n\n  return (\n    <div className={style.layer}>\n      <div className={`${style.main}`}>\n        <div> {props.main} </div>\n        { props.bottom }\n      </div>\n      <div className={style['right-layer'] + ' ' + rightClass} onClick={() => setShowRight(!showRight)}>\n        <div className={style.right}>\n          <div className={style['right-content']}>\n            { props.right }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ContentLayer","import * as React from 'react'\nimport style from './style.module.scss'\nimport { ContentLayer, ContentLayerProps } from 'src/components/content-layer'\n\nexport type ContentProps = Omit<ContentLayerProps, 'bottom'>\nexport const Content = (props: ContentProps) => {\n  return (\n    <ContentLayer\n      main={ props.main }\n      right={ props.right }\n      bottom={\n        <div className={style.bottom}>\n          <p>\n            ©2021 - bill-lai 的小站 - \n            <a rel=\"noreferrer\" href=\"https://github.com/bill-lai/bill-lai.github.io\" target=\"_blank\">站点源码</a>\n          </p>\n          <p>\n            本站使用\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://react.docschina.org/docs/hooks-reference.html#usememo\">ReactHook</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://www.typescriptlang.org/zh/\">TypeScript</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://docs.github.com/cn/rest\">githubAPI</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://simplemde.com/\">SimpleMDE</a>\n            制作\n          </p>\n        </div>\n      }\n    />\n  )\n}\n\nexport default Content","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__1ZQZt\",\"main\":\"style_main__XnHDF\",\"right-layer\":\"style_right-layer__Rm9TS\",\"right\":\"style_right__3hdcL\",\"right-content\":\"style_right-content__F68mu\",\"active\":\"style_active__nUZgm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"style_title__1aA1F\",\"top-navs\":\"style_top-navs__3vyAr\",\"active\":\"style_active__3aAsR\",\"child-navs\":\"style_child-navs__6paad\"};","import * as React from 'react'\nimport style from './style.module.scss'\nimport { witchParentClass, WithScreenAttachProps, WithScreenRef, withScreenShow } from 'src/hoc'\n\nexport type NavItem<T> = {\n  [Key in keyof T]: T[Key]\n} & {\n  title: string,\n  children?: Navs<T>\n}\nexport type Navs<T> = Array<NavItem<T>>\nexport type baseNavProps<T> = {\n  active?: NavItem<T> | null,\n  onClick?: (args: NavItem<T>) => void,\n  isChildren?: boolean\n}\nexport type navArgs<T> = NavItem<T> | null\nexport type NavContentProps<T> = baseNavProps<T> & { item: NavItem<T>, parent: HTMLDivElement }\nexport type NavsContentProps<T> = baseNavProps<T> & { list: Navs<T>, attachHeight?: boolean, parent?: HTMLDivElement }\nexport type NavigationProps<T> = Omit<NavsContentProps<T>, 'onClick'|'isChildren'|'parent'> & { \n  title: string, \n  onClick?: (args: navArgs<T>) => void \n}\n\nconst navIsActive = <T extends Object>(item: NavItem<T>, activeItem: NavItem<T>) => {\n  if (item === activeItem) {\n    return true\n  } else if (item.children) {\n    for (let cItem of item.children) {\n      if (navIsActive(cItem, activeItem)) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nconst NavContent = <T extends object>(\n  {\n    item,\n    active,\n    isChildren,\n    parent,\n    onClick\n  }: NavContentProps<T>\n) => {\n  const clickHandle = onClick && ((ev: React.SyntheticEvent) => {\n    onClick(item)\n    ev.stopPropagation() \n  })\n  const isActive = active\n    ? navIsActive(item, active)\n    : clickHandle \n      ? null\n      : item\n  const Suffix = !isChildren && item.children && !!item.children.length\n    && <i className=\"iconfont icon-arrow_down\" />\n\n  // console.log(active, item, active === item, isActive)\n\n  return (\n    <li className={isActive ? style.active : ''}>\n      <span onClick={clickHandle}>\n        {item.title} {Suffix}\n      </span>\n      {item.children && !!item.children.length &&\n        <NavsContent\n          attachHeight={!isChildren}\n          list={item.children} \n          isChildren={true}\n          parent={parent}\n          active={active}\n          onClick={onClick} \n          className={ style['child-navs'] } \n        />\n      }\n    </li>\n  )\n}\n\n\ntype WithNavContent = <T extends object>({ onShowChange, forwardRef, ...props }: baseNavProps<T> & {\n  item: NavItem<T>;\n  parent: HTMLDivElement;\n} & WithScreenAttachProps<void>, ref?: any) => React.ReactElement<any, string | React.JSXElementConstructor<any>> | null\n\nconst getNavContent = (dom: HTMLElement & { __scrollComponent?: WithNavContent }) => {\n  if (!dom.__scrollComponent) {\n    dom.__scrollComponent = withScreenShow(NavContent, dom) as WithNavContent\n  }\n  return dom.__scrollComponent\n}\n\nconst NavsContent = witchParentClass(\n  <T extends object>(\n    { \n      list,\n      attachHeight = false,\n      parent,\n      active,\n      ...props\n    }: NavsContentProps<T>\n  ) => {\n    const refs: Array<WithScreenRef> = []\n\n    React.useEffect(() => {\n      let index \n      if (active && (index = list.indexOf(active)) > -1 && refs[index]) {\n        refs[index].current?.goto({y: 'center'})\n      }\n    })\n\n\n    const ItemContent = parent ? getNavContent(parent) : NavContent\n    const children = list.map((item, i) => {\n      const itemRef: WithScreenRef = React.createRef()\n      refs.push(itemRef)\n      return <ItemContent {...props} active={active} parent={parent as any} key={i} item={item} forwardRef={itemRef} />\n    })\n\n    if (attachHeight) {\n      const ref: React.MutableRefObject<HTMLUListElement | null> = React.useRef(null)\n      const [height, setHeight] = React.useState<number | null>(null)\n      const attchStyle = height !== null \n        ? { maxHeight: height + 'px' }\n        : { }\n  \n      React.useEffect(() => {\n        if (!ref.current || height !== null) return;\n        const parent = ref.current.parentElement as HTMLElement\n        parent.classList.add(style.active)\n        setHeight(ref.current.offsetHeight)\n        parent.classList.remove(style.active)\n      }, [height])\n  \n      return <ul ref={ref} style={attchStyle}>{children}</ul>\n    } else {\n      return <ul>{children}</ul>\n    }\n  }\n)\n\n\n\nexport const Navigation = witchParentClass(<T extends object>({\n  title, \n  list,\n  active,\n  onClick\n}: NavigationProps<T>) => {\n  const ref = React.useRef() as React.MutableRefObject<HTMLDivElement>;\n  const [el, setEl] = React.useState(ref.current)\n\n  const clickHandle = onClick && ((item: NavItem<T>) => {\n    onClick(\n      list.some(citem => citem === item) && \n        active && \n        navIsActive(item, active)\n          ? null\n          : item\n    )\n  })\n\n  React.useEffect(() => {\n    const el = ref.current\n    el && setEl(el)\n  }, [ref])\n\n  const content = NavsContent({\n    active: active,\n    list: list,\n    parent: el,\n    onClick: clickHandle,\n    className: style['top-navs']\n  })\n\n  return (\n    <div ref={ref}>\n      <h4 className={style.title}>{title}</h4>\n      {content}\n    </div>\n  )\n})\n\nexport default Navigation","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"style_slide__3Yi3e\",\"portrait\":\"style_portrait__2GrBh\",\"content\":\"style_content__3GlZB\",\"introduce\":\"style_introduce__2UxnL\",\"navs\":\"style_navs__2yN9I\"};","import { equalUrl, gendUrl, recursionCopy } from 'src/util'\nimport axios, {\n  Method as BaseMethod,\n  AxiosRequestConfig as BaseAxiosReqConfig,\n  AxiosStatic as BaseAxiosStatic,\n  AxiosResponse as BaseAxiosResponse,\n  AxiosInterceptorManager as BaseAxiosInterceptorManager,\n} from 'axios'\n\n// 提取对象的值\nexport type ExtractValue<T, K extends string> = \n  T extends { [key in K]: any } ? T[K] : never\n\n  // 排除基本类型\nexport type OmitBasic<\n  T extends string | number | symbol, K\n> = keyof {\n  [key in T as key extends K ? never: key]: any\n}\n\n// 去除对象中值为never的keyValue\nexport type OmitNever<T> = {\n  [key in keyof T as T[key] extends never ? never: key]: \n    T[key] extends never ? never: T[key]\n}\n\nexport type defVoid = void | undefined | null\n\n// 接口配置值\nexport type InterfaceConfig = BaseAxiosReqConfig & {\n  url: string,\n  paths?: BaseAxiosReqConfig['params'],\n  params?: BaseAxiosReqConfig['params'],\n  data?: BaseAxiosReqConfig['data'],\n  response?: any\n}\n\n// 配置值\nexport type InterfaceConfigArray = Array<InterfaceConfig>\n\n// 接口配置\nexport type InterfacesConfig = { \n  [key in BaseMethod]?: InterfaceConfigArray \n}\n\ntype ExtractInterfacesMethodMap<T> = {\n  [key in keyof T as key extends BaseMethod ? key : never]: key\n}\n\n// 提取所有Methods\nexport type ExtractInterfacesMethod<T> = \n  ExtractInterfacesMethodMap<T>[keyof ExtractInterfacesMethodMap<T>]\n\n\n// 提取数组中的所有URL\nexport type ExtractInterfaceArrayURL<T> = \n  T extends Array<{url: infer U}> ? U : never\n\n// 提取接口某个method的所有url\nexport type ExtractInterfacesMethodURL<T, M> = \n  M extends ExtractInterfacesMethod<T>\n    ? T[M] extends InterfaceConfigArray \n      ? ExtractInterfaceArrayURL<T[M]>\n      : T[M]\n    : never\n\n// 提取接口所有url\nexport type ExtractInterfacesAllURL<T> = {\n  [key in keyof T]: \n    T[key] extends InterfaceConfigArray \n      ? ExtractInterfaceArrayURL<T[key]>\n      : never\n}[keyof T]\n\n// 提取全部或者method的所有url\nexport type ExtractInterfacesURL<T, M = defVoid> = \n  M extends defVoid\n    ? ExtractInterfacesAllURL<T>\n    : M extends ExtractInterfacesMethod<T> \n      ? ExtractInterfacesMethodURL<T, M>\n      : never\n\n// 根据具体的method url 抽取有配置\nexport type ExtractInterfaceByMethodURL<\n  T, \n  M extends ExtractInterfacesMethod<T>, \n  U extends ExtractInterfacesURL<T, M>\n> = {\n  [key in keyof T[M]]: \n    T[M][key] extends InterfaceConfig\n      ? T[M][key]['url'] extends U \n        ? T[M][key] & { method: M }\n        : never\n      : never\n}[keyof T[M]]\n\n// 根据URL提取完整接口参数\nexport type ExtractInterface<T, U, M = defVoid> = \n  M extends defVoid \n    ? {\n        [Method in keyof T] : \n          Method extends ExtractInterfacesMethod<T>\n            ? U extends ExtractInterfacesURL<T, Method> \n              ? ExtractInterfaceByMethodURL<T, Method, U>\n              : never\n            : never\n      }[keyof T]\n    : M extends ExtractInterfacesMethod<T>\n      ? U extends ExtractInterfacesURL<T, M> \n        ? ExtractInterfaceByMethodURL<T, M, U>\n        : never \n      : never\n\n// 根据url method 获取axios需要的所有参数\nexport type InstanceConfig<\n  T, \n  U, \n  M = defVoid, \n  Config = ExtractInterface<T, U, M>\n> = {\n  config: Config,\n  givenReqConfig: Omit<Config, 'method' | 'url' | 'response'>,\n  getUriConfig: Omit<Config, 'method' | 'response'>\n  reqConfig: Omit<Config, 'response'>,\n  resData: Promise<ExtractValue<Config, 'response'>>,\n  reqData: ExtractValue<Config, 'data'>\n}\n\n// 特定请求基础参数\ntype InstanceBaseArgs<\n  T, \n  Method, \n  URL, \n  instance = InstanceConfig<T, URL, Method>\n> = {} extends ExtractValue<instance, 'givenReqConfig'> \n      ? []\n      : ExtractValue<instance, 'givenReqConfig'>  extends never\n        ? []\n        : [ExtractValue<instance, 'givenReqConfig'>]\n\n// 特定请求返回返回值\ntype InstanceBaseReturn<T, Method, URL> =\n  ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>\n\n// 特定的GET相关接口函数声明\ntype InstanceGet<T, Method, URL> = (\n  ...args: InstanceBaseArgs<T, Method, URL>\n) => InstanceBaseReturn<T, Method, URL>\n\n// 特定的POST相关接口函数声明\ntype InstancePost<\n  T, \n  Method, \n  URL, \n  Args extends InstanceBaseArgs<T, Method, URL> = \n    InstanceBaseArgs<T, Method, URL>\n> = (\n  ...args: Args extends []\n    ? []\n    : ExtractValue<Args[0], 'data'> extends never\n      ? [defVoid, ...Args]\n      : {} extends Omit<Args[0], 'data'>\n        ? [ExtractValue<Args[0], 'data'>] | [defVoid, ...Args]\n        : [\n            ExtractValue<Args[0], 'data'>,\n            ...[Omit<Args[0], 'data'>, ...Omit<Args, 0>]\n          ] | [defVoid, ...Args]\n) => InstanceBaseReturn<T, Method, URL>;\n\n\n\n// 各个实例上的api定义\ntype GETURIM = 'GET' | 'DELETE' | 'HEAD' | 'OPTIONS'\nexport interface AxiosInstance<T> {\n  <\n    URL extends ExtractInterfacesURL<T, Method>,\n    Method extends ExtractInterfacesMethod<T> | \n      defVoid = defVoid\n  >(\n    config: ExtractValue<\n        InstanceConfig<T, URL, Method>, \n        'reqConfig'\n      > extends never\n        ? { url: URL, method: Method }\n        : ExtractValue<InstanceConfig<T, URL, Method>, 'reqConfig'> \n          & { url: URL }\n  ):  ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>;\n  \n  <\n    URL extends ExtractInterfacesURL<T>,\n    Instance extends InstanceConfig<T, URL>\n  >(\n    url: URL, \n    config: Omit<ExtractValue<Instance, 'reqConfig'>, 'url' >\n  ): ExtractValue<Instance, 'resData'> ;\n  \n  defaults: InterfaceConfig;\n\n  interceptors: {\n    request: BaseAxiosInterceptorManager<InterfaceConfig>;\n    response: BaseAxiosInterceptorManager<BaseAxiosResponse>;\n  };\n\n\n  getUri<URL extends ExtractInterfacesURL<T, GETURIM>, >( \n    config: ExtractValue<\n              InstanceConfig<T, URL, GETURIM>, \n              'getUriConfig'\n            > & { url: URL } \n  ): string;\n\n  request<\n    URL extends ExtractInterfacesURL<T, Method>,\n    Method extends ExtractInterfacesMethod<T> | \n      defVoid = defVoid\n  >( \n    config: ExtractValue<\n        InstanceConfig<T, URL, Method>, \n        'reqConfig'\n      > extends never\n        ? { url: URL, method: Method }\n        : ExtractValue<InstanceConfig<T, URL, Method>, 'reqConfig'> \n          & { url: URL }\n  ): ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>;\n\n  get<\n    URL extends ExtractInterfacesURL<T, 'GET'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'GET', URL>>): \n    ReturnType<InstanceGet<T, 'GET', URL>>\n    \n  delete<\n    URL extends ExtractInterfacesURL<T, 'DELETE'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'DELETE', URL>>): \n    ReturnType<InstanceGet<T, 'DELETE', URL>>\n    \n  head<\n    URL extends ExtractInterfacesURL<T, 'HEAD'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'HEAD', URL>>): \n    ReturnType<InstanceGet<T, 'HEAD', URL>>\n    \n  options<\n    URL extends ExtractInterfacesURL<T, 'OPTIONS'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'OPTIONS', URL>>): \n    ReturnType<InstanceGet<T, 'OPTIONS', URL>>\n\n  post<\n    URL extends ExtractInterfacesURL<T, 'POST'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'POST', URL>>): \n    ReturnType<InstancePost<T, 'POST', URL>>\n    \n  put<\n    URL extends ExtractInterfacesURL<T, 'PUT'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'PUT', URL>>): \n    ReturnType<InstancePost<T, 'PUT', URL>>\n    \n  patch<\n    URL extends ExtractInterfacesURL<T, 'PATCH'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'PATCH', URL>>): \n    ReturnType<InstancePost<T, 'PATCH', URL>>\n\n  addIntercept: <R extends InterceptURLS<T>, RT, RS> (\n    intercept: InterceptAtom<T, R, RT, RS>\n  ) => AxiosStatic<\n    InterceptAfterInterfaces<T, R, Omit<RT, 'method' | 'url' | 'response'>, RS>\n  >\n}\n\n// 拦截urls参数\nexport type InterceptURL<T, U = ExtractInterfacesAllURL<T>> = U | \n  readonly [U, ExtractInterface<T, U>['method']]\nexport type InterceptURLS<T> = readonly InterceptURL<T>[]\nexport type InterceptsURLS<T> = readonly InterceptURLS<T>[]\n\n// 抽取拦截参数的接口定义\nexport type ExtractInstanceConfig<T, U, M = defVoid> = \n  M extends ExtractInterfacesMethod<T> | defVoid\n    ? U extends ExtractInterfacesURL<T, M>\n      ? InstanceConfig<T, U, M>\n      : never\n    : never\n  \n// 获取多个URL共有的config\nexport type ExtractInterceptInstance<T, URLS, Attr extends string> = \n  ExtractValue<\n    OmitNever<{\n      [Index in keyof URLS]:\n        URLS[Index] extends InterceptURL<T>\n          ? URLS[Index] extends string\n            ? ExtractInstanceConfig<T, URLS[Index]>\n            : ExtractInstanceConfig<\n                T, \n                URLS[Index][0], \n                URLS[Index][1]\n              >\n          : never\n    }[keyof URLS]>,\n    Attr\n  >\n\n// 拦截数组选项声明\nexport type InterceptAtom<T, URLS, ReqReturn = any, ResReturn = any> = {\n  reqHandler?: (\n    config: Omit<ExtractInterceptInstance<T, URLS, 'config'>, 'response'>\n  ) => ReqReturn,\n  errHandler?: (res?: BaseAxiosResponse) => void,\n  resHandler?: (\n    res: ExtractInterceptInstance<T, URLS, 'resData'> extends Promise<infer P> ? P : any\n  ) => ResReturn\n  urls: URLS,\n}\n\n// 去除所有相同属性\ntype ExtractPublic<T, R> = OmitNever<{\n  [key in keyof T & keyof R]: \n    T[key] extends object\n      ? T[key] extends R[key]\n        ? R[key] extends T[key]\n          ? never\n          : ExtractPublic<T[key], R[key]>\n        : R[key] extends object\n          ? ExtractPublic<T[key], R[key]>\n          : never\n      : never\n} & {\n  [key in OmitBasic<keyof T, keyof R>]: T[key]\n}>\n\n// 传入请求配置更新接口\ntype UpdateInterfaceReq<\n  T extends InterfaceConfig,\n  NV\n> = OmitNever<{\n  [key in keyof T]: \n    key extends keyof NV \n      ? {} extends ExtractPublic<T[key], NV[key]>\n        ? never\n        : ExtractPublic<T[key], NV[key]>\n      : T[key]\n}>\n\n// 传入请求响应配置更新接口\ntype UpdateInterface<\n  T extends InterfaceConfig,\n  NV\n> = 'response' extends keyof NV\n  ? Omit<UpdateInterfaceReq<T, NV>, 'response'> & { response: NV['response'] }\n  : UpdateInterfaceReq<T, NV>\n\n// 传入函数配置，更新所有接口\ntype UpdaeInterfaces<\n  T extends InterfacesConfig, \n  US extends InterceptURLS<T>, \n  NV\n> = {\n  [M in keyof T]: {\n    [I in OmitBasic<keyof T[M], keyof []>]: \n        T[M][I] extends InterfaceConfig\n          ? T[M][I]['url'] extends US[keyof US]\n            ? UpdateInterface<T[M][I], NV>\n            : readonly [T[M][I]['url'], M] extends US[OmitBasic<keyof US, keyof []>]\n              ? UpdateInterface<T[M][I], NV>\n              : T[M][I]\n        : T[M][I]\n  } & {\n    [key in keyof T[M] & keyof []]: T[M][key]\n  }\n}\n\n// 通过拦截函数得resHandler和reqHandler更新所有接口\ntype InterceptAfterInterfaces<\n  T extends InterfacesConfig, \n  US extends InterceptURLS<T>, \n  RET,\n  RES\n> = RET extends object | string | number | symbol \n  ? RES extends object | string | number | symbol \n    ? UpdaeInterfaces<T, US, RET & { response: RES }>\n    : UpdaeInterfaces<T, US, RET>\n  : RES extends object | string | number | symbol \n    ? UpdaeInterfaces<T, US, { response: RES }>\n    : T\n\n// 加工后得axios声明\nexport type AxiosStatic<T> = Omit<BaseAxiosStatic, keyof AxiosInstance<T>> \n  & AxiosInstance<T>\n\n  \nexport const setupFactory = <T extends InterfacesConfig> () => {\n  type NeedAtom<R> = InterceptAtom<T, R>\n  type Needs = Array<NeedAtom<InterceptURLS<T>>>\n\n  const needs: Needs = []\n\n  const processAxios = {\n    ...axios,\n    addIntercept(intercept: any) {\n      needs.push(intercept)\n      return processAxios as any;\n    }\n  } as AxiosStatic<T>\n\n  // 拦截处理函数\n  const tapIntercept = (\n    url: string, \n    method: BaseMethod | undefined,\n    handler: (need: NeedAtom<any>) => void\n  ) => {\n    if (needs) {\n      for (let need of needs) {\n        const wise = need.urls.some(temp => \n          typeof temp === 'string'\n            ? equalUrl(temp, url)\n            : equalUrl(temp[0], url) && method?.toUpperCase() === temp[1]\n        )\n        wise && handler(need)\n      }\n    }\n  }\n\n  const stopRequest = () => {\n    const source = processAxios.CancelToken.source()\n    source.cancel('Illegal request')\n  }\n\n  const errorHandler = (res: BaseAxiosResponse) => {\n    if (res.config && res.config.url) {\n      tapIntercept( \n        res.config.url, \n        res.config.method,\n        ({errHandler}) => errHandler && errHandler()\n      )\n    }\n    return Promise.reject(res)\n  }\n\n  processAxios.interceptors.request.use(config => {\n    if (config.url) {\n      let ret = { ...config } as any\n      try {\n        tapIntercept(ret.url, ret.method, ({reqHandler}) => {\n          let attach = reqHandler && reqHandler(ret)\n          if (attach) {\n            ret = recursionCopy(ret, attach)\n          }\n        })\n      } catch {\n        stopRequest()\n      }\n\n      if (ret.paths) {\n        ret.url = gendUrl(ret.url, ret.paths)\n      }\n      return ret\n    } else {\n      return config\n    }\n  })\n\n  processAxios.interceptors.response.use(res => {\n    if (res.status < 200 || res.status >= 300) {\n      return errorHandler(res)\n    } else if (res.config.url) {\n      tapIntercept(res.config.url, res.config.method, ({resHandler}) => {\n        if (resHandler) {\n          res.data = resHandler(res.data)\n        }\n      })\n      return res.data\n    } else {\n      return res.data\n    }\n  }, errorHandler)\n\n  return processAxios\n}\n\nexport default setupFactory\n","import * as React from 'react'\nimport ReactLoading from 'react-loading'\nimport style from './style.module.scss'\n\nexport type LoadRef = React.RefObject<{\n  startLoading: () => void,\n  stopLoading: () => void\n}>\n\nexport const Loading = React.forwardRef<LoadRef['current'], { status?: boolean }>(\n  ({ status = false }, ref) => {\n    const [loading, setLoading] = React.useState(status)\n\n    React.useImperativeHandle(ref, () => ({\n        startLoading: () => setLoading(true),\n        stopLoading: () => setLoading(false)\n    }))\n    \n    return loading \n      ? (\n          <div className={style.layer}>\n            <ReactLoading \n              type='bubbles' \n              color='var(--vice-color)' \n              height='64px' \n              width='64px' \n            />\n          </div>\n        )\n      : null\n    }\n)\n\n\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"style_app__1yczT\",\"slide\":\"style_slide__z5PNT\",\"body\":\"style_body__3Yz5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__HltD7\",\"title\":\"style_title__3X_8O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__2pQ6k\",\"articles\":\"style_articles__1avv1\"};","import * as React from 'react'\nimport { axios, config, ArticleDirs } from 'src/request'\nimport { useParams } from 'react-router-dom'\nimport ContentLayer from 'src/app/layout/content'\nimport './marked.scss'\nimport { Navigation, Navs } from 'src/components/navigation'\nimport { withScreenShow } from 'src/hoc'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\nimport { Loading } from 'src/components/loading'\nimport style from './style.module.scss'\nimport { formatDate } from 'src/util'\n\nconst Interact = React.lazy(() => import('./interact'))\n\n\nexport const LoadEle = () =>\n  <div className={style['article-loading-layer']}>\n    <Loading status={true} />\n  </div>\nexport const ScreenLoadEle = withScreenShow(LoadEle)\n\n\ntype NavItem = {\n  title: string,\n  id: string,\n  children: Array<NavItem>\n}\n\nconst navsToDirs = (navs: ArticleDirs): Navs<NavItem> => {\n  return navs.map(item => ({\n    title: item.title,\n    id: item.title.toLowerCase(),\n    children: navsToDirs(item.children)\n  }))\n}\nconst findDir = (dirs: Array<NavItem>, title: string): NavItem | null => {\n  for (let dir of dirs) {\n    if (dir.title === title) {\n      return dir\n    } else {\n      const cdir = findDir(dir.children, title)\n      if (cdir) {\n        return cdir\n      }\n    }\n  }\n  return null\n}\n\nconst MarkerBody = withScreenShow(({ html, id }: { html: string, id: string }) => {\n  const divRef = React.useRef<HTMLDivElement>(null)\n\n  React.useEffect(() => {\n    if (divRef.current) {\n      divRef.current.innerHTML = html\n    }\n  }, [divRef])\n\n  return <div className=\"marked-body\">\n    <div ref={divRef}></div>\n  </div>\n})\n\nconst ArticleInfo = () => {\n  const { id } = useParams() as { id: 'string' }\n  const [showInteract, setShowInteract] = React.useState(false)\n  const [active, setActive] = React.useState<NavItem | null>(null)\n  const [article] = useGlobalState(\n    `article/${id}`,\n    () => axios\n      .get(config.article, { paths: { id } })\n      .then(article => ({\n        ...article,\n        ...[article.head, article, article.foot].reduce(\n          (t, c) => c\n            ? {\n              html: t.html + c.body,\n              dirs: t.dirs.concat(navsToDirs(c.dirs))\n            }\n            : t,\n          { html: '', dirs: [] as Navs<NavItem> }\n        )\n      }))\n  )\n\n  if (!article) return <ContentLayer main={<LoadEle />} />\n\n  app.setAppTitle(article.title)\n\n  return (\n    <ContentLayer\n      main={\n        <React.Fragment>\n          <h1 className=\"main-title\">\n            {article.title}\n            <span className=\"marker\">{formatDate(new Date(article.mtime))}</span>\n          </h1>\n          <MarkerBody\n            html={article.html || article.body}\n            id={article.id}\n            selector=\"h2,h3\"\n            onShowChange={(isShow, dom) => {\n              let item;\n              if (isShow\n                && dom.textContent\n                && (item = findDir(article.dirs, dom.textContent))\n              ) {\n                setActive(item)\n              }\n            }}\n          />\n          {showInteract\n            ? <React.Suspense fallback={<LoadEle />}>\n              <Interact className=\"commit-layer\" {...article} />\n            </React.Suspense>\n            : <ScreenLoadEle\n              onShowChange={(isShow) => {\n                isShow && !showInteract && setShowInteract(isShow)\n              }\n              }\n            />\n          }\n        </React.Fragment>\n      }\n      right={\n        <Navigation\n          className=\"navigation\"\n          title=\"目录列表\"\n          active={active}\n          list={article.dirs}\n          onClick={\n            (dir) => {\n              if (dir) {\n                window.location.hash = dir.title\n                  .replaceAll(' ', '-')\n                  .replaceAll(/[\\\\.!=]/ig, '')\n                  .toLowerCase()\n              }\n              setActive(dir)\n            }\n          }\n        />\n      }\n    />\n  )\n}\n\nexport default ArticleInfo\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"interact-layer\":\"style_interact-layer__3RW7v\",\"section\":\"style_section__35c2f\",\"article-loading-layer\":\"style_article-loading-layer__3poja\",\"boundary\":\"style_boundary__1fW52\",\"article-reactions\":\"style_article-reactions__C-7H7\",\"reactions\":\"style_reactions__2UyqC\",\"join-columns\":\"style_join-columns__hceCl\",\"variable\":\"style_variable__2o4-B\",\"unauth\":\"style_unauth__N-OF7\",\"btns\":\"style_btns__3Ettn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottom\":\"style_bottom__29qYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"columns\":\"style_columns__Y_UVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__GxMiF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__3sbKs\"};","import * as React from 'react'\nimport style from './style.module.scss'\nimport { Column } from 'src/request'\nimport { Link } from 'react-router-dom'\nimport { witchParentClass } from 'src/hoc'\nimport { queryRoutePath } from 'src/router'\nimport { formatDate } from 'src/util'\n\n\nfunction ColumnItem(props: Column) {\n  const articles = props.articles.map(({title, id, mtime}, i) =>(\n    <li key={i}>\n      <Link className=\"wlink\" to={queryRoutePath('article', { id })}>{title}</Link>\n      <span className=\"marker\">{formatDate(new Date(mtime))}</span>\n    </li>\n  ))\n\n  return (\n    <div className={style.layer}>\n      <h2 className=\"vice-title\" id={`${props.id}`}>{props.title}</h2>\n      { props.desc && <p className=\"desc\">{props.desc}</p>  }\n      <ul className={style['articles']}>\n        { articles }\n      </ul>\n    </div>\n  )\n}\n\nexport default witchParentClass(ColumnItem)","import * as React from 'react'\nimport ColumnItem from 'src/components/column-item'\nimport style from './style.module.scss'\nimport { Columns } from 'src/request'\nimport Layer from '../content'\nimport Navigation from 'src/components/navigation'\nimport { withScreenShow } from 'src/hoc/index'\nimport { debounce } from 'src/util'\n\nconst ScrollColumnItem = withScreenShow(ColumnItem)\n\ntype ThemeProps = {\n  title: string,\n  desc: string,\n  columns: Columns\n}\n\nexport const ScrollGroupMange = <T extends object>() => {\n  const [active, setActive] = React.useState<T | null>(null)\n  \n  const scrollShowColumns: Array<T> = []\n\n  React.useEffect(() => () => {\n    scrollShowColumns.length = 0\n  })\n\n  const setShowColumnsActive = debounce(() => {\n    if (scrollShowColumns.length && (!active || !scrollShowColumns.includes(active))) {\n      setActive(scrollShowColumns[0])\n    }\n  })\n  \n  const columnShowChange = (column: T, isShow: boolean) => {\n    let index = scrollShowColumns.indexOf(column)\n    if (index === -1 && isShow) {\n      scrollShowColumns.push(column)\n    } else if (index > -1 && !isShow) {\n      scrollShowColumns.splice(index, 1)\n    }\n    setShowColumnsActive()\n  }\n\n  return {\n    active,\n    setActive,\n    columnShowChange\n  }\n}\n\n\nexport function Theme({ \n  columns, \n  title, \n  desc\n}: ThemeProps) {\n  const { active, setActive, columnShowChange } = ScrollGroupMange<Columns[0]>()\n\n  const columnEles = columns.map((item, i) => \n    <ScrollColumnItem \n      onShowChange={(isShow) => columnShowChange(item, isShow)} \n      key={i} \n      {...item} \n    />\n  )\n\n  return (\n    <Layer \n      main={\n        <React.Fragment>\n          <h1 className=\"main-title\">{title}</h1>\n          <p className=\"desc\">{desc}</p>\n          <div className={style.columns}>\n            {columnEles}\n          </div>\n        </React.Fragment>\n      }\n      right={\n        <Navigation\n          className=\"navigation\"\n          title={`${title}列表`}\n          active={active}\n          list={columns}\n          onClick={\n            (column) => {\n              column && (window.location.hash = column.id.toString())\n              setActive(column)\n            }\n          }\n        />\n      }\n    />\n  )\n}\n\nexport default Theme","import * as React from 'react'\nimport { axios, config, ArticleBase } from 'src/request'\nimport Layer from 'src/app/layout/content'\nimport style from './style.module.scss'\nimport { Link } from 'react-router-dom'\nimport { queryRoutePath } from 'src/router'\nimport Navigation from 'src/components/navigation'\nimport { ScrollGroupMange } from 'src/app/layout/theme'\nimport { withScreenShow } from 'src/hoc'\nimport { useGlobalState } from 'src/state'\nimport { formatDate } from 'src/util'\nimport app from 'src/platform'\n\nconst ArticleItem = withScreenShow((props: ArticleBase) => {\n  return (\n    <div className={style.layer}>\n      <h2 className={`main-title ${style.title}`} id={props.id.toString()}>\n        <Link to={queryRoutePath('article', {id: props.id})}>{props.title}</Link>\n        <span className=\"marker\">{formatDate(new Date(props.mtime))}</span>\n      </h2>\n      <p className=\"desc\">{props.desc}</p>\n      <Link className=\"wlink\" to={queryRoutePath('article', {id: props.id})}>继续阅读 »</Link>\n    </div>\n  )\n})\n\nconst Home = () => {\n  const {\n    active,\n    setActive,\n    columnShowChange\n  } = ScrollGroupMange<ArticleBase>()\n\n  const [articles] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    columns => \n      columns.reduce(\n        (t:Array<ArticleBase>, column) => t.concat(column.articles), \n        []\n      ).sort((a, b) => b.ctime - a.ctime),\n    [],\n  )\n\n  \n\n  const main = articles.map(item => (\n    <ArticleItem \n      key={item.id} \n      { ...item } \n      onShowChange={(isShow) => columnShowChange(item, isShow)}  \n    />\n  ));\n\n  app.setAppTitle('')\n  \n  return <Layer\n    main={\n      <React.Fragment>{main}</React.Fragment>\n    }\n    right={\n      <Navigation\n        className=\"navigation\"\n        title=\"文章列表\"\n        active={active}\n        list={articles}\n        onClick={\n          (article) => {\n            article && (window.location.hash = article.id.toString())\n            setActive(article)\n          }\n        }\n      />\n    }\n  />\n}\n\nexport default Home","import Theme from 'src/app/layout/theme'\nimport * as React from 'react'\nimport { axios, config, ColumnList} from 'src/request'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\n\n\nfunction Special() {\n  const [columns] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    columns => {\n      const yearColumns: ColumnList = []\n      for (const column of columns) {\n        for (const article of column.articles) {\n          const ident = new Date(article.mtime).getFullYear().toString()\n          const yearColumn = yearColumns.find(({id}) => id === ident)\n\n          if (yearColumn) {\n            yearColumn.articles.push(article)\n          } else {\n            yearColumns.push({\n              id: ident,\n              title: `${ident}年`,\n              articles: [article]\n            })\n          }\n        }\n      }\n      yearColumns.forEach(column => {\n        column.articles.sort((a, b) => b.mtime - a.mtime)\n      })\n      return yearColumns\n    },\n    [],\n  )\n  const title = `归档`\n\n  app.setAppTitle(title)\n\n  return (\n    <Theme \n      title={title}\n      desc=\"\"\n      columns={columns}\n    />\n  )\n}\n\nexport default Special","import Theme from 'src/app/layout/theme'\nimport * as React from 'react'\nimport { axios, config } from 'src/request'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\n\nfunction Special() {\n  const [columns] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    []\n  )\n  columns.forEach(column => {\n    column.articles.sort((a, b) => b.mtime - a.mtime)\n  })\n  const title = `专题`\n\n  app.setAppTitle(title)\n\n  return (\n    <Theme \n      title={title}\n      desc=\"\"\n      columns={columns}\n    />\n  )\n}\n\nexport default Special","import * as React from 'react'\nimport style from './style.module.scss'\nimport { strToParams } from 'src/util'\nimport { recoveryHist, getToken } from 'src/github'\nimport Loading from 'src/components/loading'\n\nenum Step {\n  UN,\n  AUTH_ALLOW,\n  AUTH_REFUSE,\n  TOKEN_REQ,\n  TOKEN_SUCCESS,\n  TOKEN_ERR,\n}\n\nconst stepMsg = {\n  [Step.UN]: '',\n  [Step.AUTH_ALLOW]: '已授权，正在获取信息',\n  [Step.AUTH_REFUSE]: '拒绝授权，正在跳转中',\n  [Step.TOKEN_REQ]: '已授权，正在获取信息',\n  [Step.TOKEN_SUCCESS]: '成功获取信息，正在跳转中',\n  [Step.TOKEN_ERR]: '获取信息失败，正在跳转中',\n}\n\nconst Auth = () => {\n  const [step, setStep] = React.useState(Step.UN)\n  const next = (newStep: Step) => {\n    setStep(newStep)\n    const asyncSteps = [\n      Step.AUTH_REFUSE, \n      Step.TOKEN_ERR\n    ]\n    const steps = [\n      Step.TOKEN_SUCCESS, \n    ]\n\n    if (asyncSteps.includes(newStep)) {\n      setTimeout(() => recoveryHist(), 2000)\n    } else if (steps.includes(newStep)) {\n      recoveryHist()\n    }\n  }\n\n  React.useEffect(() => {\n    const { code } = strToParams(window.location.search)\n    if (code) {\n      next(Step.AUTH_ALLOW)\n      getToken(code)\n        .then(data => {\n          if (data) {\n            next(Step.TOKEN_SUCCESS)\n          } else {\n            next(Step.TOKEN_ERR)\n          }\n        })\n    } else {\n      next(Step.AUTH_REFUSE)\n    }\n  }, [])\n\n  return (\n    <div className={style.layer}>\n      <div><Loading status={true} /></div>\n      <p>{stepMsg[step]}</p>\n    </div>\n  )\n}\n\nexport default Auth","import { resolve } from 'path'\nimport { Route, Routes } from './index'\n\nexport const normalize = (router: Routes, base: string = ''): Routes => {\n  const nRouter = []\n\n  for (let route of router) {\n    const path = base ? resolve(base, route.path) : route.path\n    const children = route.children && normalize(route.children, path)\n    nRouter.push({\n      ...route,\n      path,\n      children\n    })\n  }\n\n  return nRouter\n}\n\nexport const queryRoute = (router: Routes, qname: string): Route | undefined => {\n  for (let route of router) {\n    let croute\n\n    if (route.name === qname) {\n      return route\n    } else if (route.children && (croute = queryRoute(route.children, qname))) {\n      return croute\n    }\n  }\n}\n","import * as React from 'react'\nimport Home from '../views/home'\nimport Special from '../views/special'\nimport Archive from '../views/archive'\nimport Article from '../views/article'\nimport Auth from '../views/auth'\nimport { generatePath as toolGeneratePath } from 'react-router-dom'\nimport { ExtractRouteParams } from 'react-router'\nimport {\n  normalize,\n  queryRoute as toolQueryRoute,\n} from './tool'\n\nexport type Routes = Array<Route>\nexport interface Route {\n  name: string,\n  path: string,\n  Component: React.ComponentType,\n  main?: boolean,\n  children?: Routes\n}\n\n\nexport const router: Routes = normalize([\n  {\n    main: true,\n    name: 'home',\n    path: '/',\n    Component: Home,\n  },\n  {\n    name: 'special',\n    path: '/special',\n    Component: Special\n  },\n  {\n    name: 'archive',\n    path: '/archive',\n    Component: Archive\n  },\n  {\n    name: 'article',\n    path: '/article/:id',\n    Component: Article\n  },\n  {\n    name: 'auth',\n    path: '/auth',\n    Component: Auth\n  }\n])\n\nexport const home = router.find(({main}) => main)\nexport const homePath = home ? home.path : ''\n\nexport const queryRoute = (name: string): Route | undefined => \n  toolQueryRoute(router, name) || home\n\nexport const queryRoutePath = (name: string, params?: ExtractRouteParams<string>): string => {\n  const route = queryRoute(name)\n  const path = route ? route.path : homePath\n\n  return params \n    ? toolGeneratePath(path, params)\n    : path\n}","export default __webpack_public_path__ + \"static/media/portrait.df7a5375.jpg\";","import * as React from 'react'\nimport { homePath, queryRoutePath } from 'src/router'\nimport { Link } from 'react-router-dom'\nimport portrait from 'src/assets/images/portrait.jpg'\nimport styles from './style.module.scss'\n\ninterface navType {\n  text: string,\n  path: string\n}\ntype navsType = Array<navType>\n\nconst navsConfig: navsType = [\n  { text: '首页', path: homePath },\n  { text: '专题', path: queryRoutePath('archive') },\n  { text: '归档', path: queryRoutePath('special') }\n]\n\ntype SlideProps = {\n  className: string\n}\n\nconst Slide: React.FC<SlideProps> = (props) => {\n  const navs = navsConfig.map(({text, path}) =>(\n    <li key={path}>\n      <Link to={path}>{text}</Link>\n    </li>\n  ))\n\n  return (\n    <header className={`${props.className || ''} ${styles.slide}`}>\n      <Link to={homePath}>\n        <img src={portrait}  className={styles.portrait} alt=\"portrait\" />\n      </Link>\n      <div className={styles.content}>\n        <div className={styles.introduce}>\n          <h1>\n            <Link to={homePath}>bill-lai</Link>\n          </h1>\n          <p>专注 WEB 端开发</p>\n        </div>\n        <ul className={styles.navs}>\n          {navs}\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default Slide","import 'src/assets/style/reset.scss'\nimport 'src/assets/style/iconfont/iconfont.css'\nimport 'src/assets/style/public.scss'\n\nimport styles from './style.module.scss'\nimport * as React from 'react'\nimport { router,  homePath } from '../router'\nimport { \n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport Slide from './layout/slide'\n\nconst App = () => {\n  const views = router.map(({path, Component}) => (\n    <Route exact path={path} key={path}><Component /></Route>\n  ))\n\n  return (\n    <React.StrictMode>\n      <div className={styles.app}>\n        <Slide className={styles.slide}></Slide>\n        <div className={styles.body}>\n          <Switch>\n            {views}\n            <Redirect to={homePath} />\n          </Switch>\n        </div>\n      </div>\n    </React.StrictMode>\n  )\n}\n\nexport default App","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './app';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { injectState } from './state'\nimport { injectPlatform } from './platform'\n\nif ((window as any).globalState) {\n  injectState((window as any).globalState)\n}\n\ninjectPlatform({\n  setAppTitle: title => document.title = title,\n  getAppTitle: () => document.title\n})\n\nReactDOM.hydrate(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}