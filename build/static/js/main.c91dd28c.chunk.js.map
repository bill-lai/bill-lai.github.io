{"version":3,"sources":["request/config.ts","util/index.ts","request/index.ts","hoc/withParentClass.tsx","hoc/withScreenShow.tsx","constant/index.ts","state.ts","platform.ts","components/column-item/index.tsx","app/layout/theme/index.tsx","views/home/index.tsx","views/special/index.tsx","views/archive/index.tsx","views/auth/index.tsx","router/tool.ts","router/index.ts","github/cache.ts","github/serve.ts","components/content-layer/index.tsx","app/layout/content/index.tsx","components/content-layer/style.module.scss","components/navigation/style.module.scss","components/navigation/index.tsx","app/layout/slide/style.module.scss","request/setup.ts","components/loading/index.tsx","app/style.module.scss","views/home/style.module.scss","components/column-item/style.module.scss","views/article/index.tsx","views/article/style.module.scss","app/layout/content/style.module.scss","app/layout/theme/style.module.scss","components/loading/style.module.scss","views/auth/style.module.scss","assets/images/portrait.jpg","app/layout/slide/index.tsx","app/index.tsx","client.tsx"],"names":["article","process","columns","userInfo","authorize","token","articleReactions","articleReaction","comments","comment","commentReactions","commentReaction","analysisMarked","marked","renderer","gfm","breaks","pedantic","sanitize","smartLists","smartypants","highlight","code","lang","prismjs","str","debounce","fn","timeout","delay","args","clearTimeout","setTimeout","apply","place","equalUrl","tempUrl","url","urlRgStr","replace","_","d","RegExp","test","gendUrl","params","m","preIndex","exec","substring","index","length","substr","strToParams","rgRet","result","splitRG","match","objectToString","Object","prototype","toString","toRawType","value","call","toTypeString","slice","recursionCopy","from","to","toKeys","keys","fromKeys","toKey","toItem","i","fromKey","fromItem","fromItemType","toItemType","formatDate","date","fmt","map","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","$1","getFullYear","forEach","k","val","getPostionByTarget","origin","target","isIncludeSelf","pos","x","y","temporary","document","documentElement","offsetLeft","offsetTop","offsetParent","offsetWidth","offsetHeight","config","urls","axios","setupFactory","addIntercept","authIntercept","pathIntercepet","commentIntercepet","cloneAttachElement","instance","attchClass","type","children","props","className","React","Array","isArray","item","witchParentClass","Component","ref","setSignElement","refs","GrentRefsAndCloneElement","cloneInstance","eleRefs","push","attachProps","ele","getViewBoundingRect","view","__WithScreenViewBox","getBox","box","Promise","resolve","then","setBox","window","scrollX","scrollY","width","innerWidth","height","innerHeight","scrollLeft","scrollTop","clientWidth","clientHeight","getElPagePos","el","parent","getBoundingPageRect","base","elRect","getBoundingClientRect","viewRect","isShowViewAppear","listenElesAppear","viewMaps","Map","scrollHandler","has","this","get","eles","cb","previous","isDispersion","isShow","__previous","onShowChange","maps","set","addEventListener","bind","indexOf","splice","delete","removeEventListener","withScreenShow","component","forwardRef","selector","newInstance","getEles","current","filter","Boolean","reduce","t","c","concat","querySelectorAll","goto","offset","offsetX","offsetY","scrollTo","appName","clientId","clientSecret","redirectUri","owner","repo","issuesLabel","scope","state","statePromises","injectState","data","useGlobalState","key","getPromise","transform","defaultVal","statePromise","setTransformValue","setValue","catch","platform","injectPlatform","api","setAppTitle","title","name","articles","id","mtime","queryRoutePath","Date","style","layer","desc","ScrollColumnItem","ColumnItem","ScrollGroupMange","active","setActive","scrollShowColumns","setShowColumnsActive","includes","columnShowChange","column","Theme","columnEles","main","right","list","onClick","location","hash","ArticleItem","Home","app","Special","yearColumns","ident","yearColumn","find","Step","stepMsg","UN","AUTH_ALLOW","AUTH_REFUSE","TOKEN_REQ","TOKEN_SUCCESS","TOKEN_ERR","Auth","step","setStep","next","newStep","asyncSteps","steps","recoveryHist","search","getToken","status","queryRoute","router","qname","route","croute","normalize","nRouter","path","Archive","Article","home","homePath","toolQueryRoute","toolGeneratePath","store","sessionStorage","GetTokenKey","getStoreTokenConfig","getItem","JSON","parse","removeItem","Hist","pathname","isLocalAuth","tokenConfig","getAuthLink","setItem","getUri","client_id","redirect_uri","auth","href","post","client_secret","res","access_token","stringify","reqHandler","headers","Authorization","Error","paths","method","toUpperCase","labels","ContentLayer","showRight","setShowRight","rightClass","bottom","Content","rel","module","exports","navIsActive","activeItem","NavContent","isChildren","clickHandle","ev","stopPropagation","isActive","Suffix","NavsContent","attachHeight","dom","ItemContent","__scrollComponent","itemRef","setHeight","attchStyle","maxHeight","parentElement","classList","add","remove","Navigation","setEl","some","citem","content","needs","processAxios","intercept","tapIntercept","handler","need","temp","errorHandler","errHandler","reject","interceptors","request","use","ret","attach","CancelToken","source","cancel","response","resHandler","Loading","loading","setLoading","startLoading","stopLoading","color","Interact","LoadEle","ScreenLoadEle","navsToDirs","navs","toLowerCase","findDir","dirs","dir","cdir","MarkerBody","html","dangerouslySetInnerHTML","__html","ArticleInfo","useParams","showInteract","setShowInteract","head","foot","body","textContent","fallback","console","log","navsConfig","text","Slide","styles","slide","src","portrait","alt","introduce","App","views","exact","globalState","getAppTitle","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.c91dd28c.chunk.js","sourcesContent":["// -------------文章----------------\nexport const article = process.env.getArticleApi as 'getArticle'\n\n// -------------类别-----------------\nexport const columns = process.env.getColumnListApi as 'getColumnList'\n\n\n// ------------获取用户信息--------------\n// 获取用户信息\nexport const userInfo = `https://api.github.com/user`\n// 信息认证\nexport const authorize = `https://github.com/login/oauth/authorize`\n// 获取token\nexport const token = `https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token`\n\n\n// --------------文章互动-------------------\n// 文章互动数据\nexport const articleReactions = `https://api.github.com/repos/:owner/:repo/issues/:id/reactions`\n// 删除文章互动数据\nexport const articleReaction = `https://api.github.com/repos/:owner/:repo/issues/:id/reactions/:reactionId`\n\n\n\n\n// -------------评论-------------------\n// 评论数据\nexport const comments = `https://api.github.com/repos/:owner/:repo/issues/:issuesId/comments`\nexport const comment = `https://api.github.com/repos/:owner/:repo/issues/comments/:commentId`\n\n\n// -------------评论互动----------------\n// 评论互动数据\nexport const commentReactions = `https://api.github.com/repos/:owner/:repo/issues/comments/:id/reactions`\n// 删除评论互动数据\nexport const commentReaction = `https://api.github.com/repos/:owner/:repo/issues/comments/:id/reactions/:reactionId`","import * as marked from 'marked'\nimport * as prismjs from 'prismjs'\n\n// 解析mardown文本\nexport const analysisMarked = (() => {\n  marked.setOptions({\n    renderer: new marked.Renderer(),\n    gfm: true,\n    breaks: true,\n    pedantic: false,\n    sanitize: false,\n    smartLists: true,\n    smartypants: false,\n    highlight: function (code,lang) {\n      if (prismjs.languages[lang]) {\n        return prismjs.highlight(code, prismjs.languages[lang], lang)\n      } else {\n        return prismjs.highlight(code, prismjs.languages['plaintext'], 'plaintext')\n      }\n    }\n  });\n\n  return (str: string) => marked(str)\n})();\n\n// 节流\nexport const throttle = (fn: Function, delay: number = 160) => {\n  let previous = 0\n\n  return function<Args extends Array<any>, This>(\n    this: This, ...args: Args\n  ) {\n    const now = Date.now()\n    if (now - previous >= delay) {\n      fn.apply(this, args)\n      previous = now\n    }\n  }\n}\n\n// 防抖\nexport const debounce = (fn: Function, delay: number = 160) => {\n  let timeout: NodeJS.Timeout\n\n  return function<Args extends Array<any>, This>(\n    this: This, ...args: Args\n  ) {\n    clearTimeout(timeout)\n    setTimeout(() => {\n      fn.apply(this, ...args)\n    }, delay)\n  }\n}\n\n\n\nconst place = /(?:\\/:([^/]*))/g\n// 匹配 /:id 是否匹配某个url\nexport const equalUrl = (tempUrl: string, url: string) => {\n  const urlRgStr = tempUrl.replace(/\\/([^:])/g,(_, d) => `\\\\/${d}`)\n    .replace(place, () => `(?:/[^/]*)`)\n  \n  return new RegExp(urlRgStr).test(url)\n}\n\n// 生成/:id 类真实url\nexport const gendUrl = (tempUrl: string, params: { [key: string]: any}) => {\n  let url = ''\n  let preIndex = 0\n  let m\n\n  while ((m = place.exec(tempUrl))) {\n    url += tempUrl.substring(preIndex,  m.index + 1) + (params[m[1]] || 'null')\n    preIndex = m.index + m[0].length\n  }\n  url += tempUrl.substr(preIndex)\n  return url\n}\n\nexport const includesUrl = (tempUrls: Array<string> | readonly string[], url: string) =>\n  tempUrls.some(tempUrl => equalUrl(tempUrl, url)) \n\n  \nexport const strToParams = (str: string) => {\n  if (str[0] === '?') {\n    str = str.substr(1)\n  }\n\n  const result: { [key: string]: string } = {}\n  const splitRG = /([^=&]+)(?:=([^&]*))?&?/\n\n  let rgRet\n  while ((rgRet = str.match(splitRG))) {\n    result[rgRet[1]] = rgRet[2]\n    str = str.substr(rgRet[0].length)\n  }\n  \n  return result\n}\n\nexport const paramsToStr = (params: { [key: string]: string }) => \n  '?' + Object.keys(params)\n    .map(key => `${key}${params[key] == null ? '' : `=${params[key]}`}`)\n    .join('&')\n\n\nexport const objectToString = Object.prototype.toString\nexport const toTypeString = (value: unknown): string =>\n  objectToString.call(value)\n\nexport const toRawType = (value: unknown): string => {\n  // extract \"RawType\" from strings like \"[object RawType]\"\n  return toTypeString(value).slice(8, -1)\n}\n    \n\n// 递归复制\nexport const recursionCopy = <T extends object, R extends object>(from: R, to: T): T & R => {\n  if (toRawType(from) !== toRawType(to)) {\n    return to as T & R\n  }\n\n  const toKeys = Object.keys(to)\n  const fromKeys = Object.keys(from)\n  const result = { ...from } as T & R\n\n  for (const toKey of toKeys) {\n    const toItem = (to as any)[toKey]\n\n    let i = 0;\n    for (; i < fromKeys.length; i++) {\n      const fromKey = fromKeys[i]\n      if (toKey === fromKey) {\n        const fromItem = (from as any)[fromKey]\n        const fromItemType = toRawType(fromItem)\n        const toItemType = toRawType(toItem)\n\n        if (fromItemType === toItemType \n            && (fromItemType === 'Object' \n              || fromItemType === 'Array')\n        ) {\n          (result as any)[fromKey] = recursionCopy(fromItem, toItem)\n        } else {\n          (result as any)[fromKey] = toItem\n        }\n\n        break;\n      }\n    }\n\n    if (i === fromKeys.length) {\n      (result as any)[toKey] = toItem\n    }\n  }\n\n  return result\n}\n\n\n// 日期格式化\nexport const formatDate = (date: Date, fmt: string = 'yyyy-MM-dd hh:mm') => { \n  const map = { \n     \"M+\" : date.getMonth()+1,                 //月份 \n     \"d+\" : date.getDate(),                    //日 \n     \"h+\" : date.getHours(),                   //小时 \n     \"m+\" : date.getMinutes(),                 //分 \n     \"s+\" : date.getSeconds(),                 //秒 \n     \"q+\" : Math.floor((date.getMonth()+3)/3), //季度 \n     \"S\"  : date.getMilliseconds()             //毫秒 \n  }; \n\n  if(/(y+)/.test(fmt)) {\n    fmt = fmt.replace(\n      RegExp.$1, \n      date.getFullYear().toString().substr(4 - RegExp.$1.length)\n    ); \n  };\n\n  (Object.keys(map) as Array<keyof typeof map>)\n    .forEach(k => {\n      if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n        const val = map[k].toString()\n        fmt = fmt.replace(\n          RegExp.$1, \n          RegExp.$1.length === 1 \n            ? val\n            : (\"00\" + val).substr(val.length)\n        );\n      }\n    })\n    \n return fmt; \n}\n\nexport const getPostionByTarget = (\n  origin: HTMLElement, \n  target: HTMLElement,\n  isIncludeSelf: boolean = false\n) => {\n  const pos = { x: 0, y: 0 }\n\n  let temporary: null | HTMLElement = origin\n  while (temporary \n    && temporary !== target \n    && temporary !== document.documentElement\n  ) {\n    pos.x += temporary.offsetLeft\n    pos.y += temporary.offsetTop\n    temporary = temporary.offsetParent as HTMLElement | null\n  }\n\n  if (isIncludeSelf) {\n    pos.x += origin.offsetWidth\n    pos.y += origin.offsetHeight\n  }\n\n  return pos\n}","import { \n  setupFactory, \n  ExtractInterfacesURL, \n  ExtractInterfacesMethodURL, \n  ExtractInterfacesMethod,\n  defVoid,\n  ExtractInterface\n} from './setup'\nimport * as urls from './config'\nimport { Interfaces } from './interface'\nimport { authIntercept, pathIntercepet, commentIntercepet } from 'src/github'\n\n\n// 所有method\nexport type Method = ExtractInterfacesMethod<Interfaces>\n\n// 获取接口\nexport type URL<T extends Method | defVoid = defVoid> = \n  T extends defVoid\n    ? ExtractInterfacesURL<Interfaces>\n    : ExtractInterfacesMethodURL<Interfaces, T>\n\n// 获取指定接口声明\nexport type Interface<\n  T extends URL, \n  R extends Method | defVoid = defVoid\n> = ExtractInterface<Interfaces, T, R>\n  \n\n\nexport * from './model'\nexport * from './interface'\nexport * from './setup'\nexport * from './interface'\n\nexport const config = urls\nexport const axios = setupFactory<Interfaces>()\n  .addIntercept(authIntercept)\n  .addIntercept(pathIntercepet)\n  .addIntercept(commentIntercepet)\n\nexport default axios","import * as React from 'react'\nimport { Component } from './index'\n\ntype WitchParentAttachProps = {\n  className?: string\n}\n\nconst cloneAttachElement = (instance: React.ReactElement<any>, attchClass: string): React.ReactElement => {\n  const type = instance.type\n  let children = instance.props.children\n  let className = instance.props.className\n\n  if (type === React.Fragment && children) {\n    if (Array.isArray(children)) {\n      children = children.map(\n        item => cloneAttachElement(item, attchClass)\n      )\n    } else {\n      children = cloneAttachElement(children, attchClass)\n    }\n  } else {\n    className = className ? `${className} ${attchClass}` : attchClass\n  }\n\n  return React.cloneElement(\n    instance,\n    {\n      ...instance.props,\n      children,\n      className\n    }\n  )\n}\n\n\nexport const witchParentClass = <\n  P extends object = {},\n> (Component: Component<P>)  => {\n\n  return ({ className, ...props }: P & WitchParentAttachProps, ref?: any) => {\n    const instance = Component(props as P, ref)\n    return className && instance\n      ? cloneAttachElement(instance, className)\n      : instance\n  }\n\n}\n","import * as React from 'react'\nimport { Component } from './index'\nimport { debounce } from 'src/util'\n\nexport type WithScreenRef = React.RefObject<{ goto: (offset?: Offset) => void } | null>\nexport type WithScreenAttachProps<T> = { \n  onShowChange?: ShowChange<T extends string ? true : false>, \n  selector?: T, \n  forwardRef?: WithScreenRef \n}\nexport type ShowChange<T extends boolean = true> = (isShow: boolean, dom: T extends true ? HTMLElement : void) => void\ntype Ele = React.ReactElement<any>\ntype Ref = React.RefObject<HTMLElement | null>\ntype Offset = { x?: number | 'center', y?: number | 'center' }\ntype ViewBox = { width: number, height: number, x: number, y: number }\ntype View = (Window | HTMLElement) & { __WithScreenViewBox?: ViewBox }\n\nconst setSignElement = (\n  instance: Ele,\n  refs: Array<Ref>,\n  children?: Array<Ele>,\n) => {\n  const [cloneInstance, eleRefs] = GrentRefsAndCloneElement(instance)\n  children && children.push(cloneInstance)\n  refs.push(...eleRefs)\n  return children\n}\n\nconst GrentRefsAndCloneElement = (instance: Ele): [Ele, Array<Ref>] => {\n  const refs: Array<Ref> = []\n  const attachProps: any = {}\n  const type = instance.type\n  \n  if (type === React.Fragment || typeof type !== 'string') {\n    let children = instance.props.children\n    if (children) {\n      children = Array.isArray(children)\n        ? children.map(ele => setSignElement(ele, refs))\n        : setSignElement(children, refs)\n    }\n    attachProps.children = children\n  } else {\n    let ref: Ref = React.createRef();\n    attachProps.ref = ref\n    refs.push(ref)\n  }\n\n  const newInstance = React.cloneElement(\n    instance, \n    {\n      ...instance.props,\n      ...attachProps\n    }\n  )\n\n  return [newInstance, refs]\n}\n\n\nconst getBox = (view: View) => view.__WithScreenViewBox\nconst setBox = (view: View, box: ViewBox)  => {\n  view.__WithScreenViewBox = box\n  Promise.resolve().then(() => delete view.__WithScreenViewBox)\n  return box\n}\n\nconst getViewBoundingRect = (view: View): ViewBox => \n  getBox(view) || setBox(\n    view, \n    view === window \n      ? {\n          x: view.scrollX,\n          y: view.scrollY,\n          width: view.innerWidth,\n          height: view.innerHeight\n        } \n      : {\n        x: (view as HTMLElement).scrollLeft,\n        y: (view as HTMLElement).scrollTop,\n        width: (view as HTMLElement).clientWidth,\n        height: (view as HTMLElement).clientHeight,\n      }\n  )\n\nconst getElPagePos = (el: HTMLElement, target?: HTMLElement) => {\n  let parent: HTMLElement | false = el\n  let x = 0, y = 0\n  while (parent && parent !== target && parent !== document.documentElement) {\n    x += parent.offsetLeft\n    y += parent.offsetTop\n    parent = parent.offsetParent as HTMLElement\n  }\n\n  return {x, y, target: parent}\n}\n\nconst getBoundingPageRect = (view: View, el: HTMLElement) => {\n  const base = {\n    width: el.offsetWidth,\n    height: el.offsetHeight,\n  }\n\n  // console.log(view)\n  if (view !== window) {\n    let { x, y, target } = getElPagePos(el, view as HTMLElement)\n\n    if (target !== view) {\n      let { x: vx, y: vy} = getElPagePos(view as HTMLElement)\n      x -= vx\n      y -= vy\n    }\n    return {\n      ...base,\n      x,\n      y\n    }\n  } else {\n    const elRect = el.getBoundingClientRect()\n    const viewRect = getViewBoundingRect(view) \n    return {\n      ...base,\n      x: viewRect.x + elRect.x,\n      y: viewRect.y + elRect.y\n    }\n  }\n}\n\nconst isShowViewAppear = (view: View, el: HTMLElement) => {\n  const elRect = getBoundingPageRect(view, el)\n  const viewRect = getViewBoundingRect(view)\n\n  return !(elRect.x > viewRect.x + viewRect.width || \n    viewRect.x > elRect.x + elRect.width ||\n    elRect.y > viewRect.y + viewRect.height ||\n    viewRect.y > elRect.y + elRect.height)\n}\n\n\nconst listenElesAppear = (() => {\n  type MapVal = { \n    eles: Array<HTMLElement & { __previous?: boolean  }>, \n    cb: ShowChange<MapVal['isDispersion']>, \n    isDispersion: boolean,\n    previous?: boolean \n  }\n  const viewMaps = new Map<\n    View, \n    Array<MapVal>\n  >()\n\n  const scrollHandler = debounce(\n    function (this: View) {\n      if (!viewMaps.has(this)) return;\n      const maps = viewMaps.get(this)\n\n      maps!.forEach(map => {\n        const { eles, cb, previous, isDispersion } = map\n        \n        for (let ele of eles) {\n          const isShow = isShowViewAppear(this, ele)\n          const prevShow = isDispersion ? ele.__previous : previous\n\n          if (isShow !== !!prevShow)  {\n            if (isDispersion) {\n              cb(isShow, ele)\n              ele.__previous = isShow\n            } else {\n              cb(isShow)\n              map.previous = isShow\n              return;\n            }\n          }\n        }\n      })\n    }\n  )\n\n  return <T extends boolean>(view: View, eles: Array<HTMLElement>, onShowChange: ShowChange<T>, isDispersion: T) => {\n    const item = { eles, cb: onShowChange, isDispersion }\n    let maps = viewMaps.get(view)\n    \n    if (!maps) {\n      maps = []\n      viewMaps.set(view, maps)\n      view.addEventListener('scroll', scrollHandler)\n    }\n    // 自动触发第一次\n    setTimeout(() => scrollHandler.bind(view)(), 500)\n    maps.push(item)\n\n    return () => {\n      const maps = viewMaps.get(view)\n      const index = maps!.indexOf(item)\n      if (index > -1) {\n        maps!.splice(index, 1)\n        if (maps!.length) return;\n      }\n      viewMaps.delete(view)\n      view.removeEventListener('scroll', scrollHandler)\n    }\n  }\n})();\n\nexport const withScreenShow = <P extends object>(\n  component: Component<P>, \n  view: View | undefined = typeof window === 'undefined' ? void 0 : window\n) => {\n  if (!view) return component\n\n  return <T extends string|void>({ onShowChange, forwardRef, selector, ...props }: P & WithScreenAttachProps<T>, ref?: any) => {\n    const instance = component(props as P, ref)\n    if (instance && (onShowChange || forwardRef)) {\n      const [newInstance, refs] = GrentRefsAndCloneElement(instance)\n      const getEles = () => refs.map(ref => ref.current)\n        .filter(Boolean) as Array<HTMLElement>\n\n      \n      React.useEffect(() => \n        onShowChange && listenElesAppear(\n          view, \n          selector \n            ? getEles().reduce(\n              (t, c) => \n                t.concat(Array.from(c.querySelectorAll(selector))), \n              []\n            ) \n            : getEles(), \n          onShowChange, \n          !!selector\n        ) \n      )\n\n      if (forwardRef) {\n        React.useImperativeHandle(forwardRef, () => ({\n          goto(offset?: Offset) {\n            const eles = getEles()\n            if (eles.length) {\n              const elRect = getBoundingPageRect(view, eles[0])\n              const viewRect = getViewBoundingRect(view)\n              const offsetX = offset\n                ? offset.x === 'center' \n                  ? viewRect.width / 2\n                  : offset.x ? offset.x : 0\n                : 0\n              const offsetY = offset\n                ? offset.y === 'center' \n                  ? viewRect.height / 2\n                  : offset.y ? offset.y : 0\n                : 0\n              view.scrollTo(elRect.x - offsetX, elRect.y - offsetY)\n            }\n          }\n        }))\n      }\n\n      return newInstance\n    } else {\n      return instance\n    }\n  }\n}","export const appName = `bill-lai 的博客`\n\nexport const clientId = `dbac9f422a3f03c121f1`\nexport const clientSecret = `26a67f075778cac68d6d2fc7e4e5086519745009`\nexport const redirectUri = `https://bill-lai.github.io/auth`\nexport const owner = `bill-lai`\nexport const repo = `bill-lai.github.io`\nexport const issuesLabel = `${owner}-blog`\nexport const scope = `public_repo`\n","import * as React from 'react'\n\nlet state: { [key: string]: any } = { }\n\nexport const statePromises: { [key: string]: Promise<any> } = { }\n\nexport const injectState = (data: { [key: string]: any }) => {\n  state = {\n    ...state,\n    ...data\n  }\n}\n\nexport function useGlobalState<T>(\n  key: string, \n  getPromise: () => Promise<T>,\n): [\n  T | undefined, \n  React.Dispatch<React.SetStateAction<T>>\n]\n\nexport function useGlobalState<T>(\n  key: string, \n  getPromise: () => Promise<T>,\n  defaultVal: T\n): [\n  T, \n  React.Dispatch<React.SetStateAction<T>>\n]\n\nexport function useGlobalState<T, K>(\n  key: string, \n  getPromise: () => Promise<T>,\n  transform: (data: T) => K,\n): [\n  K | undefined, \n  React.Dispatch<React.SetStateAction<K | undefined>>, \n  (data: T) => void\n]\n\nexport function useGlobalState<T, K>(\n  key: string, \n  getPromise: () => Promise<T>,\n  transform: (data: T) => K,\n  defaultVal: T,\n): [\n  K, \n  React.Dispatch<React.SetStateAction<K>>, \n  (data: T) => void\n]\n\n\nexport function useGlobalState <T, K>(\n  key: string, \n  getPromise: () => Promise<T>, \n  transform?: (data: T) => K,\n  defaultVal?: T,\n) {\n  if (typeof transform !== 'function') {\n    defaultVal = transform\n    transform = void 0\n  }\n\n  if (key in state) {\n    defaultVal = state[key]\n  } else {\n    const promise = statePromises[key] || getPromise()\n    const statePromise = promise.then(\n      data => {\n        setTransformValue\n          ? setTransformValue(data)\n          : setValue(data)\n        state[key] = data\n        delete statePromises[key]\n        return data\n      }\n    )\n\n    statePromises[key] = statePromise\n    statePromise.catch(() => delete statePromises[key])\n  }\n\n  const setTransformValue = transform && ((value: T) => \n    setValue((transform as (data: T) => K)(value))\n  )\n  \n  const [value, setValue] = React.useState(\n    defaultVal && (transform ? transform(defaultVal) : defaultVal)\n  )\n\n\n  return [\n    value, \n    setValue,\n    setTransformValue\n  ]\n}\n","import { appName } from './constant'\n\ntype Platform = {\n  setAppTitle: (title: string) => void,\n  getAppTitle: () => string\n}\n\nlet platform: undefined | Platform\n\nexport const injectPlatform = (current: Platform) => platform = current\n\n\ntype ApiNames = Array<keyof Platform>\ntype Api = {\n  [key in keyof Platform]: Platform[key] \n}\n\nconst apiNames: ApiNames = [\n  'getAppTitle'\n]\n\nexport const api = {\n  setAppTitle(title) {\n    if (platform) {\n      platform.setAppTitle((title && title + ` | `) + appName)\n    }\n  }\n} as Api\napiNames.forEach(name => {\n  (api as any)[name] = (...args: [any]) => \n    platform && platform[name](...args)\n})\n\nexport default api","import * as React from 'react'\nimport style from './style.module.scss'\nimport { Column } from 'src/request'\nimport { Link } from 'react-router-dom'\nimport { witchParentClass } from 'src/hoc'\nimport { queryRoutePath } from 'src/router'\nimport { formatDate } from 'src/util'\n\n\nfunction ColumnItem(props: Column) {\n  const articles = props.articles.map(({title, id, mtime}, i) =>(\n    <li key={i}>\n      <Link className=\"wlink\" to={queryRoutePath('article', { id })}>{title}</Link>\n      <span className=\"marker\">{formatDate(new Date(mtime))}</span>\n    </li>\n  ))\n\n  return (\n    <div className={style.layer}>\n      <h2 className=\"vice-title\" id={`${props.id}`}>{props.title}</h2>\n      { props.desc && <p className=\"desc\">{props.desc}</p>  }\n      <ul className={style['articles']}>\n        { articles }\n      </ul>\n    </div>\n  )\n}\n\nexport default witchParentClass(ColumnItem)","import * as React from 'react'\nimport ColumnItem from 'src/components/column-item'\nimport style from './style.module.scss'\nimport { Columns } from 'src/request'\nimport Layer from '../content'\nimport Navigation from 'src/components/navigation'\nimport { withScreenShow } from 'src/hoc/index'\nimport { debounce } from 'src/util'\n\nconst ScrollColumnItem = withScreenShow(ColumnItem)\n\ntype ThemeProps = {\n  title: string,\n  desc: string,\n  columns: Columns\n}\n\nexport const ScrollGroupMange = <T extends object>() => {\n  const [active, setActive] = React.useState<T | null>(null)\n  \n  const scrollShowColumns: Array<T> = []\n\n  React.useEffect(() => () => {\n    scrollShowColumns.length = 0\n  })\n\n  const setShowColumnsActive = debounce(() => {\n    if (scrollShowColumns.length && (!active || !scrollShowColumns.includes(active))) {\n      setActive(scrollShowColumns[0])\n    }\n  })\n  \n  const columnShowChange = (column: T, isShow: boolean) => {\n    let index = scrollShowColumns.indexOf(column)\n    if (index === -1 && isShow) {\n      scrollShowColumns.push(column)\n    } else if (index > -1 && !isShow) {\n      scrollShowColumns.splice(index, 1)\n    }\n    setShowColumnsActive()\n  }\n\n  return {\n    active,\n    setActive,\n    columnShowChange\n  }\n}\n\n\nexport function Theme({ \n  columns, \n  title, \n  desc\n}: ThemeProps) {\n  const { active, setActive, columnShowChange } = ScrollGroupMange<Columns[0]>()\n\n  const columnEles = columns.map((item, i) => \n    <ScrollColumnItem \n      onShowChange={(isShow) => columnShowChange(item, isShow)} \n      key={i} \n      {...item} \n    />\n  )\n\n  return (\n    <Layer \n      main={\n        <React.Fragment>\n          <h1 className=\"main-title\">{title}</h1>\n          <p className=\"desc\">{desc}</p>\n          <div className={style.columns}>\n            {columnEles}\n          </div>\n        </React.Fragment>\n      }\n      right={\n        <Navigation\n          className=\"navigation\"\n          title={`${title}列表`}\n          active={active}\n          list={columns}\n          onClick={\n            (column) => {\n              column && (window.location.hash = column.id.toString())\n              setActive(column)\n            }\n          }\n        />\n      }\n    />\n  )\n}\n\nexport default Theme","import * as React from 'react'\nimport { axios, config, ArticleBase } from 'src/request'\nimport Layer from 'src/app/layout/content'\nimport style from './style.module.scss'\nimport { Link } from 'react-router-dom'\nimport { queryRoutePath } from 'src/router'\nimport Navigation from 'src/components/navigation'\nimport { ScrollGroupMange } from 'src/app/layout/theme'\nimport { withScreenShow } from 'src/hoc'\nimport { useGlobalState } from 'src/state'\nimport { formatDate } from 'src/util'\nimport app from 'src/platform'\n\nconst ArticleItem = withScreenShow((props: ArticleBase) => {\n  return (\n    <div className={style.layer}>\n      <h2 className={`main-title ${style.title}`} id={props.id.toString()}>\n        <Link to={queryRoutePath('article', {id: props.id})}>{props.title}</Link>\n        <span className=\"marker\">{formatDate(new Date(props.mtime))}</span>\n      </h2>\n      <p className=\"desc\">{props.desc}</p>\n      <Link className=\"wlink\" to={queryRoutePath('article', {id: props.id})}>继续阅读 »</Link>\n    </div>\n  )\n})\n\nconst Home = () => {\n  const {\n    active,\n    setActive,\n    columnShowChange\n  } = ScrollGroupMange<ArticleBase>()\n\n  const [articles] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    columns => \n      columns.reduce(\n        (t:Array<ArticleBase>, column) => t.concat(column.articles), \n        []\n      ),\n    [],\n  )\n\n  const main = articles.map(item => (\n    <ArticleItem \n      key={item.id} \n      { ...item } \n      onShowChange={(isShow) => columnShowChange(item, isShow)}  \n    />\n  ));\n\n  app.setAppTitle('')\n  \n  return <Layer\n    main={\n      <React.Fragment>{main}</React.Fragment>\n    }\n    right={\n      <Navigation\n        className=\"navigation\"\n        title=\"文章列表\"\n        active={active}\n        list={articles}\n        onClick={\n          (article) => {\n            article && (window.location.hash = article.id.toString())\n            setActive(article)\n          }\n        }\n      />\n    }\n  />\n}\n\nexport default Home","import Theme from 'src/app/layout/theme'\nimport * as React from 'react'\nimport { axios, config, ColumnList} from 'src/request'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\n\n\nfunction Special() {\n  const [columns] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    columns => {\n      const yearColumns: ColumnList = []\n      for (const column of columns) {\n        for (const article of column.articles) {\n          const ident = new Date(article.mtime).getFullYear().toString()\n          const yearColumn = yearColumns.find(({id}) => id === ident)\n\n          if (yearColumn) {\n            yearColumn.articles.push(article)\n          } else {\n            yearColumns.push({\n              id: ident,\n              title: `${ident}年`,\n              articles: [article]\n            })\n          }\n        }\n      }\n      return yearColumns\n    },\n    [],\n  )\n  const title = `归档`\n\n  app.setAppTitle(title)\n\n  return (\n    <Theme \n      title={title}\n      desc=\"博客写了这么多年，数量一直没上去。大部分时候遇上有意思的东西，研究明白之后只是多了几篇收藏，或者是 Evernote 里多了几段零散的记录，又或者是电脑某个文件夹多了几个 Demo 文件。很难再有耐心和精力把整个过程记录一遍。这里把本站部分文章以专题的形式整理出来，一方面方便新同学阅读，另一方面也希望借此激励自己：能在这个浮躁的时代，坚持阅读和写作。\"\n      columns={columns}\n    />\n  )\n}\n\nexport default Special","import Theme from 'src/app/layout/theme'\nimport * as React from 'react'\nimport { axios, config } from 'src/request'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\n\nfunction Special() {\n  const [columns] = useGlobalState(\n    'columns', \n    () => axios.get(config.columns),\n    []\n  )\n  const title = `专题`\n\n  app.setAppTitle(title)\n\n  return (\n    <Theme \n      title={title}\n      desc=\"博客写了这么多年，数量一直没上去。大部分时候遇上有意思的东西，研究明白之后只是多了几篇收藏，或者是 Evernote 里多了几段零散的记录，又或者是电脑某个文件夹多了几个 Demo 文件。很难再有耐心和精力把整个过程记录一遍。这里把本站部分文章以专题的形式整理出来，一方面方便新同学阅读，另一方面也希望借此激励自己：能在这个浮躁的时代，坚持阅读和写作。\"\n      columns={columns}\n    />\n  )\n}\n\nexport default Special","import * as React from 'react'\nimport style from './style.module.scss'\nimport { strToParams } from 'src/util'\nimport { recoveryHist, getToken } from 'src/github'\nimport Loading from 'src/components/loading'\n\nenum Step {\n  UN,\n  AUTH_ALLOW,\n  AUTH_REFUSE,\n  TOKEN_REQ,\n  TOKEN_SUCCESS,\n  TOKEN_ERR,\n}\n\nconst stepMsg = {\n  [Step.UN]: '',\n  [Step.AUTH_ALLOW]: '已授权，正在获取信息',\n  [Step.AUTH_REFUSE]: '拒绝授权，正在跳转中',\n  [Step.TOKEN_REQ]: '已授权，正在获取信息',\n  [Step.TOKEN_SUCCESS]: '成功获取信息，正在跳转中',\n  [Step.TOKEN_ERR]: '获取信息失败，正在跳转中',\n}\n\nconst Auth = () => {\n  const [step, setStep] = React.useState(Step.UN)\n  const next = (newStep: Step) => {\n    setStep(newStep)\n    const asyncSteps = [\n      Step.AUTH_REFUSE, \n      Step.TOKEN_ERR\n    ]\n    const steps = [\n      Step.TOKEN_SUCCESS, \n    ]\n\n    if (asyncSteps.includes(newStep)) {\n      setTimeout(() => recoveryHist(), 2000)\n    } else if (steps.includes(newStep)) {\n      recoveryHist()\n    }\n  }\n\n  React.useEffect(() => {\n    const { code } = strToParams(window.location.search)\n    if (code) {\n      next(Step.AUTH_ALLOW)\n      getToken(code)\n        .then(data => {\n          if (data) {\n            next(Step.TOKEN_SUCCESS)\n          } else {\n            next(Step.TOKEN_ERR)\n          }\n        })\n    } else {\n      next(Step.AUTH_REFUSE)\n    }\n  }, [])\n\n  return (\n    <div className={style.layer}>\n      <div><Loading status={true} /></div>\n      <p>{stepMsg[step]}</p>\n    </div>\n  )\n}\n\nexport default Auth","import { resolve } from 'path'\nimport { Route, Routes } from './index'\n\nexport const normalize = (router: Routes, base: string = ''): Routes => {\n  const nRouter = []\n\n  for (let route of router) {\n    const path = base ? resolve(base, route.path) : route.path\n    const children = route.children && normalize(route.children, path)\n    nRouter.push({\n      ...route,\n      path,\n      children\n    })\n  }\n\n  return nRouter\n}\n\nexport const queryRoute = (router: Routes, qname: string): Route | undefined => {\n  for (let route of router) {\n    let croute\n\n    if (route.name === qname) {\n      return route\n    } else if (route.children && (croute = queryRoute(route.children, qname))) {\n      return croute\n    }\n  }\n}\n","import * as React from 'react'\nimport Home from '../views/home'\nimport Special from '../views/special'\nimport Archive from '../views/archive'\nimport Article from '../views/article'\nimport Auth from '../views/auth'\nimport { generatePath as toolGeneratePath } from 'react-router-dom'\nimport { ExtractRouteParams } from 'react-router'\nimport {\n  normalize,\n  queryRoute as toolQueryRoute,\n} from './tool'\n\nexport type Routes = Array<Route>\nexport interface Route {\n  name: string,\n  path: string,\n  Component: React.ComponentType,\n  main?: boolean,\n  children?: Routes\n}\n\n\nexport const router: Routes = normalize([\n  {\n    main: true,\n    name: 'home',\n    path: '/',\n    Component: Home,\n  },\n  {\n    name: 'special',\n    path: '/special',\n    Component: Special\n  },\n  {\n    name: 'archive',\n    path: '/archive',\n    Component: Archive\n  },\n  {\n    name: 'article',\n    path: '/article/:id',\n    Component: Article\n  },\n  {\n    name: 'auth',\n    path: '/auth',\n    Component: Auth\n  }\n])\n\nexport const home = router.find(({main}) => main)\nexport const homePath = home ? home.path : ''\n\nexport const queryRoute = (name: string): Route | undefined => \n  toolQueryRoute(router, name) || home\n\nexport const queryRoutePath = (name: string, params?: ExtractRouteParams<string>): string => {\n  const route = queryRoute(name)\n  const path = route ? route.path : homePath\n\n  return params \n    ? toolGeneratePath(path, params)\n    : path\n}","const store = sessionStorage\n\n\n\n\ntype SessionToken = {\n  token: string,\n  code: string\n}\nconst GetTokenKey = `getToken`\n\n// 获取token配置\nexport const getStoreTokenConfig = (): SessionToken | null => {\n  const token = store.getItem(GetTokenKey)\n  if (token) {\n    try {\n      return JSON.parse(token)\n    } catch {\n      store.removeItem(GetTokenKey)\n    }\n  }\n  return null\n}\n\n// 设置token配置\nexport const setStoreTokenConfig = (config: SessionToken) => \n  store.setItem(GetTokenKey, JSON.stringify(config))\n\n// 删除token配置\nexport const delStoreTokenConfig = () =>\n  store.removeItem(GetTokenKey)\n\n\n\n\n\nconst Hist = `originPathname`\n\n// 恢复上次跳转授权\nexport const recoveryHist = () => {\n  const pathname = store.getItem(Hist) || '/'\n  if (pathname !== window.location.pathname) {\n    window.location.pathname = pathname\n    store.removeItem(Hist)\n  }\n}\n\nexport const makerHist = (url?: string) =>\n  store.setItem(Hist, url || window.location.pathname)","import axios from 'src/request'\nimport * as config from 'src/request/config'\nimport { strToParams } from 'src/util'\nimport { \n  getStoreTokenConfig, \n  makerHist, \n  setStoreTokenConfig \n} from './cache'\nimport {\n  clientId,\n  clientSecret,\n  owner,\n  redirectUri,\n  repo,\n  scope,\n  issuesLabel\n} from 'src/constant'\n\n\n\n// 本地是否已授权\nexport const isLocalAuth = () => {\n  const tokenConfig = getStoreTokenConfig()\n  return !!(tokenConfig && tokenConfig.token)\n}\n\n// 获取授权链接\nexport const getAuthLink = () => {\n  makerHist()\n\n  return axios.getUri({\n    url: config.authorize,\n    params: {\n      client_id: clientId,\n      redirect_uri: redirectUri,\n      scope,\n    }\n  })\n}\n\n// 跳转到授权\nexport const auth = () => {\n  window.location.href = getAuthLink()\n}\n\n\n// 获取token\nexport const getToken = (code?: string) => {\n  const tokenConfig = getStoreTokenConfig()\n  if (tokenConfig) {\n    if (!code && tokenConfig.code === code) {\n      return Promise.resolve(tokenConfig.token)\n    }\n  } \n  \n  if (code) {\n    return axios.post(config.token, {\n      client_id: clientId,\n      client_secret: clientSecret,\n      code\n    }).then((res) => {\n      \n      const { access_token } = strToParams(res)\n      if (access_token) {\n        setStoreTokenConfig({code, token: access_token})\n        return access_token \n      } else {\n        return null\n      }\n    })\n  } else {\n    return Promise.resolve(null)\n  }\n}\n\n// 接口附加拦截\nexport const authIntercept = {\n  reqHandler() {\n    const tokenConfig = getStoreTokenConfig()\n    if (!tokenConfig) {\n      throw new Error('未登录')\n    } else {\n      return {\n        headers: {\n          Authorization: `token ${tokenConfig.token}`\n        }\n      }\n    }\n  },\n  urls: [\n    config.userInfo,\n    [config.comments, 'POST'],\n    [config.comment, 'DELETE'],\n    [config.comment, 'PATCH'],\n    [config.articleReactions, 'POST'],\n    [config.articleReaction, 'DELETE'],\n    [config.commentReactions, 'POST'],\n    [config.commentReaction, 'DELETE'],\n  ] as const\n}\n\n// 路径拦截器\nexport const pathIntercepet = {\n  reqHandler: () => ({ paths: { owner, repo } }),\n  urls: [\n    config.comments,\n    config.articleReactions,\n    config.articleReaction,\n    config.commentReactions,\n    config.commentReaction,\n    config.comment\n  ] as const\n}\n\nexport const commentIntercepet = {\n  reqHandler: (config: any) => {\n    if (config.method.toUpperCase() === 'GET') {\n      return {\n        params: {\n          labels: issuesLabel\n        }\n      }\n    } else if (config.method.toUpperCase() === 'POST') {\n      config.data.labels.push(issuesLabel)\n    }\n  },\n  urls: [\n    config.comments\n  ] as const\n}","import * as React from 'react'\nimport style from './style.module.scss'\n\nexport type ContentLayerProps = {\n  main: React.ReactElement,\n  right?: React.ReactElement,\n  bottom?: React.ReactElement\n}\n\nexport const ContentLayer = (props: ContentLayerProps) => {\n  const [showRight, setShowRight] = React.useState(false)\n  const rightClass = showRight ? style.active : ''\n\n  return (\n    <div className={style.layer}>\n      <div className={`${style.main}`}>\n        <div> {props.main} </div>\n        { props.bottom }\n      </div>\n      <div className={style['right-layer'] + ' ' + rightClass} onClick={() => setShowRight(!showRight)}>\n        <div className={style.right}>\n          <div className={style['right-content']}>\n            { props.right }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ContentLayer","import * as React from 'react'\nimport style from './style.module.scss'\nimport { ContentLayer, ContentLayerProps } from 'src/components/content-layer'\n\nexport type ContentProps = Omit<ContentLayerProps, 'bottom'>\nexport const Content = (props: ContentProps) => {\n  return (\n    <ContentLayer\n      main={ props.main }\n      right={ props.right }\n      bottom={\n        <div className={style.bottom}>\n          <p>\n            ©2021 - bill-lai 的小站 - \n            <a rel=\"noreferrer\" href=\"https://github.com/bill-lai/bill-lai.github.io\" target=\"_blank\">站点源码</a>\n          </p>\n          <p>\n            本站使用\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://react.docschina.org/docs/hooks-reference.html#usememo\">ReactHook</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://www.typescriptlang.org/zh/\">TypeScript</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://docs.github.com/cn/rest\">githubAPI</a>\n            <a rel=\"noreferrer\" target=\"_blank\" href=\"https://simplemde.com/\">SimpleMDE</a>\n            制作\n          </p>\n        </div>\n      }\n    />\n  )\n}\n\nexport default Content","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__1ZQZt\",\"main\":\"style_main__XnHDF\",\"right-layer\":\"style_right-layer__Rm9TS\",\"right\":\"style_right__3hdcL\",\"right-content\":\"style_right-content__F68mu\",\"active\":\"style_active__nUZgm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"style_title__1aA1F\",\"top-navs\":\"style_top-navs__3vyAr\",\"active\":\"style_active__3aAsR\",\"child-navs\":\"style_child-navs__6paad\"};","import * as React from 'react'\nimport style from './style.module.scss'\nimport { witchParentClass, WithScreenAttachProps, WithScreenRef, withScreenShow } from 'src/hoc'\n\nexport type NavItem<T> = {\n  [Key in keyof T]: T[Key]\n} & {\n  title: string,\n  children?: Navs<T>\n}\nexport type Navs<T> = Array<NavItem<T>>\nexport type baseNavProps<T> = {\n  active?: NavItem<T> | null,\n  onClick?: (args: NavItem<T>) => void,\n  isChildren?: boolean\n}\nexport type navArgs<T> = NavItem<T> | null\nexport type NavContentProps<T> = baseNavProps<T> & { item: NavItem<T>, parent: HTMLDivElement }\nexport type NavsContentProps<T> = baseNavProps<T> & { list: Navs<T>, attachHeight?: boolean, parent?: HTMLDivElement }\nexport type NavigationProps<T> = Omit<NavsContentProps<T>, 'onClick'|'isChildren'|'parent'> & { \n  title: string, \n  onClick?: (args: navArgs<T>) => void \n}\n\nconst navIsActive = <T extends Object>(item: NavItem<T>, activeItem: NavItem<T>) => {\n  if (item === activeItem) {\n    return true\n  } else if (item.children) {\n    for (let cItem of item.children) {\n      if (navIsActive(cItem, activeItem)) {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nconst NavContent = <T extends object>(\n  {\n    item,\n    active,\n    isChildren,\n    parent,\n    onClick\n  }: NavContentProps<T>\n) => {\n  const clickHandle = onClick && ((ev: React.SyntheticEvent) => {\n    onClick(item)\n    ev.stopPropagation() \n  })\n  const isActive = active\n    ? navIsActive(item, active)\n    : clickHandle \n      ? null\n      : item\n  const Suffix = !isChildren && item.children && !!item.children.length\n    && <i className=\"iconfont icon-arrow_down\" />\n\n  // console.log(active, item, active === item, isActive)\n\n  return (\n    <li className={isActive ? style.active : ''}>\n      <span onClick={clickHandle}>\n        {item.title} {Suffix}\n      </span>\n      {item.children && !!item.children.length &&\n        <NavsContent\n          attachHeight={!isChildren}\n          list={item.children} \n          isChildren={true}\n          parent={parent}\n          active={active}\n          onClick={onClick} \n          className={ style['child-navs'] } \n        />\n      }\n    </li>\n  )\n}\n\n\ntype WithNavContent = <T extends object>({ onShowChange, forwardRef, ...props }: baseNavProps<T> & {\n  item: NavItem<T>;\n  parent: HTMLDivElement;\n} & WithScreenAttachProps<void>, ref?: any) => React.ReactElement<any, string | React.JSXElementConstructor<any>> | null\n\nconst getNavContent = (dom: HTMLElement & { __scrollComponent?: WithNavContent }) => {\n  if (!dom.__scrollComponent) {\n    dom.__scrollComponent = withScreenShow(NavContent, dom) as WithNavContent\n  }\n  return dom.__scrollComponent\n}\n\nconst NavsContent = witchParentClass(\n  <T extends object>(\n    { \n      list,\n      attachHeight = false,\n      parent,\n      active,\n      ...props\n    }: NavsContentProps<T>\n  ) => {\n    const refs: Array<WithScreenRef> = []\n\n    React.useEffect(() => {\n      let index \n      if (active && (index = list.indexOf(active)) > -1 && refs[index]) {\n        refs[index].current?.goto({y: 'center'})\n      }\n    })\n\n\n    const ItemContent = parent ? getNavContent(parent) : NavContent\n    const children = list.map((item, i) => {\n      const itemRef: WithScreenRef = React.createRef()\n      refs.push(itemRef)\n      return <ItemContent {...props} active={active} parent={parent as any} key={i} item={item} forwardRef={itemRef} />\n    })\n\n    if (attachHeight) {\n      const ref: React.MutableRefObject<HTMLUListElement | null> = React.useRef(null)\n      const [height, setHeight] = React.useState<number | null>(null)\n      const attchStyle = height !== null \n        ? { maxHeight: height + 'px' }\n        : { }\n  \n      React.useEffect(() => {\n        if (!ref.current || height !== null) return;\n        const parent = ref.current.parentElement as HTMLElement\n        parent.classList.add(style.active)\n        setHeight(ref.current.offsetHeight)\n        parent.classList.remove(style.active)\n      }, [height])\n  \n      return <ul ref={ref} style={attchStyle}>{children}</ul>\n    } else {\n      return <ul>{children}</ul>\n    }\n  }\n)\n\n\n\nexport const Navigation = witchParentClass(<T extends object>({\n  title, \n  list,\n  active,\n  onClick\n}: NavigationProps<T>) => {\n  const ref = React.useRef() as React.MutableRefObject<HTMLDivElement>;\n  const [el, setEl] = React.useState(ref.current)\n\n  const clickHandle = onClick && ((item: NavItem<T>) => {\n    onClick(\n      list.some(citem => citem === item) && \n        active && \n        navIsActive(item, active)\n          ? null\n          : item\n    )\n  })\n\n  React.useEffect(() => {\n    const el = ref.current\n    el && setEl(el)\n  }, [ref])\n\n  const content = NavsContent({\n    active: active,\n    list: list,\n    parent: el,\n    onClick: clickHandle,\n    className: style['top-navs']\n  })\n\n  return (\n    <div ref={ref}>\n      <h4 className={style.title}>{title}</h4>\n      {content}\n    </div>\n  )\n})\n\nexport default Navigation","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slide\":\"style_slide__3Yi3e\",\"portrait\":\"style_portrait__2GrBh\",\"content\":\"style_content__3GlZB\",\"introduce\":\"style_introduce__2UxnL\",\"navs\":\"style_navs__2yN9I\"};","import { equalUrl, gendUrl, recursionCopy } from 'src/util'\nimport axios, {\n  Method as BaseMethod,\n  AxiosRequestConfig as BaseAxiosReqConfig,\n  AxiosStatic as BaseAxiosStatic,\n  AxiosResponse as BaseAxiosResponse,\n  AxiosInterceptorManager as BaseAxiosInterceptorManager,\n} from 'axios'\n\n// 提取对象的值\nexport type ExtractValue<T, K extends string> = \n  T extends { [key in K]: any } ? T[K] : never\n\n  // 排除基本类型\nexport type OmitBasic<\n  T extends string | number | symbol, K\n> = keyof {\n  [key in T as key extends K ? never: key]: any\n}\n\n// 去除对象中值为never的keyValue\nexport type OmitNever<T> = {\n  [key in keyof T as T[key] extends never ? never: key]: \n    T[key] extends never ? never: T[key]\n}\n\nexport type defVoid = void | undefined | null\n\n// 接口配置值\nexport type InterfaceConfig = BaseAxiosReqConfig & {\n  url: string,\n  paths?: BaseAxiosReqConfig['params'],\n  params?: BaseAxiosReqConfig['params'],\n  data?: BaseAxiosReqConfig['data'],\n  response?: any\n}\n\n// 配置值\nexport type InterfaceConfigArray = Array<InterfaceConfig>\n\n// 接口配置\nexport type InterfacesConfig = { \n  [key in BaseMethod]?: InterfaceConfigArray \n}\n\ntype ExtractInterfacesMethodMap<T> = {\n  [key in keyof T as key extends BaseMethod ? key : never]: key\n}\n\n// 提取所有Methods\nexport type ExtractInterfacesMethod<T> = \n  ExtractInterfacesMethodMap<T>[keyof ExtractInterfacesMethodMap<T>]\n\n\n// 提取数组中的所有URL\nexport type ExtractInterfaceArrayURL<T> = \n  T extends Array<{url: infer U}> ? U : never\n\n// 提取接口某个method的所有url\nexport type ExtractInterfacesMethodURL<T, M> = \n  M extends ExtractInterfacesMethod<T>\n    ? T[M] extends InterfaceConfigArray \n      ? ExtractInterfaceArrayURL<T[M]>\n      : T[M]\n    : never\n\n// 提取接口所有url\nexport type ExtractInterfacesAllURL<T> = {\n  [key in keyof T]: \n    T[key] extends InterfaceConfigArray \n      ? ExtractInterfaceArrayURL<T[key]>\n      : never\n}[keyof T]\n\n// 提取全部或者method的所有url\nexport type ExtractInterfacesURL<T, M = defVoid> = \n  M extends defVoid\n    ? ExtractInterfacesAllURL<T>\n    : M extends ExtractInterfacesMethod<T> \n      ? ExtractInterfacesMethodURL<T, M>\n      : never\n\n// 根据具体的method url 抽取有配置\nexport type ExtractInterfaceByMethodURL<\n  T, \n  M extends ExtractInterfacesMethod<T>, \n  U extends ExtractInterfacesURL<T, M>\n> = {\n  [key in keyof T[M]]: \n    T[M][key] extends InterfaceConfig\n      ? T[M][key]['url'] extends U \n        ? T[M][key] & { method: M }\n        : never\n      : never\n}[keyof T[M]]\n\n// 根据URL提取完整接口参数\nexport type ExtractInterface<T, U, M = defVoid> = \n  M extends defVoid \n    ? {\n        [Method in keyof T] : \n          Method extends ExtractInterfacesMethod<T>\n            ? U extends ExtractInterfacesURL<T, Method> \n              ? ExtractInterfaceByMethodURL<T, Method, U>\n              : never\n            : never\n      }[keyof T]\n    : M extends ExtractInterfacesMethod<T>\n      ? U extends ExtractInterfacesURL<T, M> \n        ? ExtractInterfaceByMethodURL<T, M, U>\n        : never \n      : never\n\n// 根据url method 获取axios需要的所有参数\nexport type InstanceConfig<\n  T, \n  U, \n  M = defVoid, \n  Config = ExtractInterface<T, U, M>\n> = {\n  config: Config,\n  givenReqConfig: Omit<Config, 'method' | 'url' | 'response'>,\n  getUriConfig: Omit<Config, 'method' | 'response'>\n  reqConfig: Omit<Config, 'response'>,\n  resData: Promise<ExtractValue<Config, 'response'>>,\n  reqData: ExtractValue<Config, 'data'>\n}\n\n// 特定请求基础参数\ntype InstanceBaseArgs<\n  T, \n  Method, \n  URL, \n  instance = InstanceConfig<T, URL, Method>\n> = {} extends ExtractValue<instance, 'givenReqConfig'> \n      ? []\n      : ExtractValue<instance, 'givenReqConfig'>  extends never\n        ? []\n        : [ExtractValue<instance, 'givenReqConfig'>]\n\n// 特定请求返回返回值\ntype InstanceBaseReturn<T, Method, URL> =\n  ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>\n\n// 特定的GET相关接口函数声明\ntype InstanceGet<T, Method, URL> = (\n  ...args: InstanceBaseArgs<T, Method, URL>\n) => InstanceBaseReturn<T, Method, URL>\n\n// 特定的POST相关接口函数声明\ntype InstancePost<\n  T, \n  Method, \n  URL, \n  Args extends InstanceBaseArgs<T, Method, URL> = \n    InstanceBaseArgs<T, Method, URL>\n> = (\n  ...args: Args extends []\n    ? []\n    : ExtractValue<Args[0], 'data'> extends never\n      ? [defVoid, ...Args]\n      : {} extends Omit<Args[0], 'data'>\n        ? [ExtractValue<Args[0], 'data'>] | [defVoid, ...Args]\n        : [\n            ExtractValue<Args[0], 'data'>,\n            ...[Omit<Args[0], 'data'>, ...Omit<Args, 0>]\n          ] | [defVoid, ...Args]\n) => InstanceBaseReturn<T, Method, URL>;\n\n\n\n// 各个实例上的api定义\ntype GETURIM = 'GET' | 'DELETE' | 'HEAD' | 'OPTIONS'\nexport interface AxiosInstance<T> {\n  <\n    URL extends ExtractInterfacesURL<T, Method>,\n    Method extends ExtractInterfacesMethod<T> | \n      defVoid = defVoid\n  >(\n    config: ExtractValue<\n        InstanceConfig<T, URL, Method>, \n        'reqConfig'\n      > extends never\n        ? { url: URL, method: Method }\n        : ExtractValue<InstanceConfig<T, URL, Method>, 'reqConfig'> \n          & { url: URL }\n  ):  ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>;\n  \n  <\n    URL extends ExtractInterfacesURL<T>,\n    Instance extends InstanceConfig<T, URL>\n  >(\n    url: URL, \n    config: Omit<ExtractValue<Instance, 'reqConfig'>, 'url' >\n  ): ExtractValue<Instance, 'resData'> ;\n  \n  defaults: InterfaceConfig;\n\n  interceptors: {\n    request: BaseAxiosInterceptorManager<InterfaceConfig>;\n    response: BaseAxiosInterceptorManager<BaseAxiosResponse>;\n  };\n\n\n  getUri<URL extends ExtractInterfacesURL<T, GETURIM>, >( \n    config: ExtractValue<\n              InstanceConfig<T, URL, GETURIM>, \n              'getUriConfig'\n            > & { url: URL } \n  ): string;\n\n  request<\n    URL extends ExtractInterfacesURL<T, Method>,\n    Method extends ExtractInterfacesMethod<T> | \n      defVoid = defVoid\n  >( \n    config: ExtractValue<\n        InstanceConfig<T, URL, Method>, \n        'reqConfig'\n      > extends never\n        ? { url: URL, method: Method }\n        : ExtractValue<InstanceConfig<T, URL, Method>, 'reqConfig'> \n          & { url: URL }\n  ): ExtractValue<InstanceConfig<T, URL, Method>, 'resData'>;\n\n  get<\n    URL extends ExtractInterfacesURL<T, 'GET'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'GET', URL>>): \n    ReturnType<InstanceGet<T, 'GET', URL>>\n    \n  delete<\n    URL extends ExtractInterfacesURL<T, 'DELETE'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'DELETE', URL>>): \n    ReturnType<InstanceGet<T, 'DELETE', URL>>\n    \n  head<\n    URL extends ExtractInterfacesURL<T, 'HEAD'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'HEAD', URL>>): \n    ReturnType<InstanceGet<T, 'HEAD', URL>>\n    \n  options<\n    URL extends ExtractInterfacesURL<T, 'OPTIONS'>\n  >(url: URL, ...args: Parameters<InstanceGet<T, 'OPTIONS', URL>>): \n    ReturnType<InstanceGet<T, 'OPTIONS', URL>>\n\n  post<\n    URL extends ExtractInterfacesURL<T, 'POST'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'POST', URL>>): \n    ReturnType<InstancePost<T, 'POST', URL>>\n    \n  put<\n    URL extends ExtractInterfacesURL<T, 'PUT'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'PUT', URL>>): \n    ReturnType<InstancePost<T, 'PUT', URL>>\n    \n  patch<\n    URL extends ExtractInterfacesURL<T, 'PATCH'>\n  >(url: URL, ...args: Parameters<InstancePost<T, 'PATCH', URL>>): \n    ReturnType<InstancePost<T, 'PATCH', URL>>\n\n  addIntercept: <R extends InterceptURLS<T>, RT, RS> (\n    intercept: InterceptAtom<T, R, RT, RS>\n  ) => AxiosStatic<\n    InterceptAfterInterfaces<T, R, Omit<RT, 'method' | 'url' | 'response'>, RS>\n  >\n}\n\n// 拦截urls参数\nexport type InterceptURL<T, U = ExtractInterfacesAllURL<T>> = U | \n  readonly [U, ExtractInterface<T, U>['method']]\nexport type InterceptURLS<T> = readonly InterceptURL<T>[]\nexport type InterceptsURLS<T> = readonly InterceptURLS<T>[]\n\n// 抽取拦截参数的接口定义\nexport type ExtractInstanceConfig<T, U, M = defVoid> = \n  M extends ExtractInterfacesMethod<T> | defVoid\n    ? U extends ExtractInterfacesURL<T, M>\n      ? InstanceConfig<T, U, M>\n      : never\n    : never\n  \n// 获取多个URL共有的config\nexport type ExtractInterceptInstance<T, URLS, Attr extends string> = \n  ExtractValue<\n    OmitNever<{\n      [Index in keyof URLS]:\n        URLS[Index] extends InterceptURL<T>\n          ? URLS[Index] extends string\n            ? ExtractInstanceConfig<T, URLS[Index]>\n            : ExtractInstanceConfig<\n                T, \n                URLS[Index][0], \n                URLS[Index][1]\n              >\n          : never\n    }[keyof URLS]>,\n    Attr\n  >\n\n// 拦截数组选项声明\nexport type InterceptAtom<T, URLS, ReqReturn = any, ResReturn = any> = {\n  reqHandler?: (\n    config: Omit<ExtractInterceptInstance<T, URLS, 'config'>, 'response'>\n  ) => ReqReturn,\n  errHandler?: (res?: BaseAxiosResponse) => void,\n  resHandler?: (\n    res: ExtractInterceptInstance<T, URLS, 'resData'> extends Promise<infer P> ? P : any\n  ) => ResReturn\n  urls: URLS,\n}\n\n// 去除所有相同属性\ntype ExtractPublic<T, R> = OmitNever<{\n  [key in keyof T & keyof R]: \n    T[key] extends object\n      ? T[key] extends R[key]\n        ? R[key] extends T[key]\n          ? never\n          : ExtractPublic<T[key], R[key]>\n        : R[key] extends object\n          ? ExtractPublic<T[key], R[key]>\n          : never\n      : never\n} & {\n  [key in OmitBasic<keyof T, keyof R>]: T[key]\n}>\n\n// 传入请求配置更新接口\ntype UpdateInterfaceReq<\n  T extends InterfaceConfig,\n  NV\n> = OmitNever<{\n  [key in keyof T]: \n    key extends keyof NV \n      ? {} extends ExtractPublic<T[key], NV[key]>\n        ? never\n        : ExtractPublic<T[key], NV[key]>\n      : T[key]\n}>\n\n// 传入请求响应配置更新接口\ntype UpdateInterface<\n  T extends InterfaceConfig,\n  NV\n> = 'response' extends keyof NV\n  ? Omit<UpdateInterfaceReq<T, NV>, 'response'> & { response: NV['response'] }\n  : UpdateInterfaceReq<T, NV>\n\n// 传入函数配置，更新所有接口\ntype UpdaeInterfaces<\n  T extends InterfacesConfig, \n  US extends InterceptURLS<T>, \n  NV\n> = {\n  [M in keyof T]: {\n    [I in OmitBasic<keyof T[M], keyof []>]: \n        T[M][I] extends InterfaceConfig\n          ? T[M][I]['url'] extends US[keyof US]\n            ? UpdateInterface<T[M][I], NV>\n            : readonly [T[M][I]['url'], M] extends US[OmitBasic<keyof US, keyof []>]\n              ? UpdateInterface<T[M][I], NV>\n              : T[M][I]\n        : T[M][I]\n  } & {\n    [key in keyof T[M] & keyof []]: T[M][key]\n  }\n}\n\n// 通过拦截函数得resHandler和reqHandler更新所有接口\ntype InterceptAfterInterfaces<\n  T extends InterfacesConfig, \n  US extends InterceptURLS<T>, \n  RET,\n  RES\n> = RET extends object | string | number | symbol \n  ? RES extends object | string | number | symbol \n    ? UpdaeInterfaces<T, US, RET & { response: RES }>\n    : UpdaeInterfaces<T, US, RET>\n  : RES extends object | string | number | symbol \n    ? UpdaeInterfaces<T, US, { response: RES }>\n    : T\n\n// 加工后得axios声明\nexport type AxiosStatic<T> = Omit<BaseAxiosStatic, keyof AxiosInstance<T>> \n  & AxiosInstance<T>\n\n  \nexport const setupFactory = <T extends InterfacesConfig> () => {\n  type NeedAtom<R> = InterceptAtom<T, R>\n  type Needs = Array<NeedAtom<InterceptURLS<T>>>\n\n  const needs: Needs = []\n\n  const processAxios = {\n    ...axios,\n    addIntercept(intercept: any) {\n      needs.push(intercept)\n      return processAxios as any;\n    }\n  } as AxiosStatic<T>\n\n  // 拦截处理函数\n  const tapIntercept = (\n    url: string, \n    method: BaseMethod | undefined,\n    handler: (need: NeedAtom<any>) => void\n  ) => {\n    if (needs) {\n      for (let need of needs) {\n        const wise = need.urls.some(temp => \n          typeof temp === 'string'\n            ? equalUrl(temp, url)\n            : equalUrl(temp[0], url) && method?.toUpperCase() === temp[1]\n        )\n        wise && handler(need)\n      }\n    }\n  }\n\n  const stopRequest = () => {\n    const source = processAxios.CancelToken.source()\n    source.cancel('Illegal request')\n  }\n\n  const errorHandler = (res: BaseAxiosResponse) => {\n    if (res.config && res.config.url) {\n      tapIntercept( \n        res.config.url, \n        res.config.method,\n        ({errHandler}) => errHandler && errHandler()\n      )\n    }\n    return Promise.reject(res)\n  }\n\n  processAxios.interceptors.request.use(config => {\n    if (config.url) {\n      let ret = { ...config } as any\n      try {\n        tapIntercept(ret.url, ret.method, ({reqHandler}) => {\n          let attach = reqHandler && reqHandler(ret)\n          if (attach) {\n            ret = recursionCopy(ret, attach)\n          }\n        })\n      } catch {\n        stopRequest()\n      }\n\n      if (ret.paths) {\n        ret.url = gendUrl(ret.url, ret.paths)\n      }\n      return ret\n    } else {\n      return config\n    }\n  })\n\n  processAxios.interceptors.response.use(res => {\n    if (res.status < 200 || res.status >= 300) {\n      return errorHandler(res)\n    } else if (res.config.url) {\n      tapIntercept(res.config.url, res.config.method, ({resHandler}) => {\n        if (resHandler) {\n          res.data = resHandler(res.data)\n        }\n      })\n      return res.data\n    } else {\n      return res.data\n    }\n  }, errorHandler)\n\n  return processAxios\n}\n\nexport default setupFactory\n","import * as React from 'react'\nimport ReactLoading from 'react-loading'\nimport style from './style.module.scss'\n\nexport type LoadRef = React.RefObject<{\n  startLoading: () => void,\n  stopLoading: () => void\n}>\n\nexport const Loading = React.forwardRef<LoadRef['current'], { status?: boolean }>(\n  ({ status = false }, ref) => {\n    const [loading, setLoading] = React.useState(status)\n\n    React.useImperativeHandle(ref, () => ({\n        startLoading: () => setLoading(true),\n        stopLoading: () => setLoading(false)\n    }))\n    \n    return loading \n      ? (\n          <div className={style.layer}>\n            <ReactLoading \n              type='bubbles' \n              color='var(--vice-color)' \n              height='64px' \n              width='64px' \n            />\n          </div>\n        )\n      : null\n    }\n)\n\n\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"style_app__1yczT\",\"slide\":\"style_slide__z5PNT\",\"body\":\"style_body__3Yz5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__HltD7\",\"title\":\"style_title__3X_8O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__2pQ6k\",\"articles\":\"style_articles__1avv1\"};","import * as React from 'react'\nimport { axios, config, ArticleDirs } from 'src/request'\nimport { useParams } from 'react-router-dom'\nimport ContentLayer from 'src/app/layout/content'\nimport './marked.scss'\nimport { Navigation, Navs } from 'src/components/navigation'\nimport { withScreenShow } from 'src/hoc'\nimport { useGlobalState } from 'src/state'\nimport app from 'src/platform'\nimport { Loading } from 'src/components/loading'\nimport style from './style.module.scss'\nimport { formatDate } from 'src/util'\n\nconst Interact = React.lazy(() => import('./interact'))\n\n\nexport const LoadEle = () =>\n  <div className={style['article-loading-layer']}>\n    <Loading status={ true } /> \n  </div> \nexport const ScreenLoadEle = withScreenShow(LoadEle)\n\n\ntype NavItem = {\n  title: string,\n  id: string,\n  children: Array<NavItem>\n}\n\nconst navsToDirs = (navs: ArticleDirs): Navs<NavItem> => {\n  return navs.map(item => ({\n    title: item.title,\n    id: item.title.toLowerCase(),\n    children: navsToDirs(item.children)\n  }))\n}\nconst findDir = (dirs: Array<NavItem>, title: string): NavItem | null => {\n  for (let dir of dirs) {\n    if (dir.title === title) {\n      return dir\n    } else {\n      const cdir = findDir(dir.children, title)\n      if (cdir) {\n        return cdir\n      }\n    }\n  }\n  return null\n}\n\nconst MarkerBody = withScreenShow(({html}: { html: string }) => \n  <div \n    className=\"marked-body\" \n    dangerouslySetInnerHTML={{__html: html}} \n  />\n)\n\nconst ArticleInfo = () => {\n  const { id } = useParams() as { id: 'string' }\n  const [ showInteract, setShowInteract ] = React.useState(false)\n  const [ active, setActive ] = React.useState<NavItem | null>(null)\n  const [ article ] = useGlobalState(\n    `article/${id}`,\n    () => axios\n      .get(config.article, { paths: { id } })\n      .then(article => ({\n        ...article,\n        ...[article.head, article, article.foot].reduce(\n          (t, c) => c \n            ? {\n                html: t.html + c.body,\n                dirs: t.dirs.concat(navsToDirs(c.dirs))\n              }\n            : t, \n          { html: '', dirs: [] as Navs<NavItem> }\n        )\n      }))\n  )\n  \n  if (!article) return <ContentLayer main={ <LoadEle /> } />\n\n  app.setAppTitle(article.title)\n\n  return (\n    <ContentLayer \n      main={ \n        <React.Fragment>\n          <h1 className=\"main-title\">\n            {article.title}\n            <span className=\"marker\">{formatDate(new Date(article.mtime))}</span>\n          </h1>\n          <MarkerBody \n            html={article.html}\n            selector=\"h2,h3\"\n            onShowChange={(isShow, dom) => {\n              let item;\n              if (isShow \n                  && dom.textContent \n                  && (item = findDir(article.dirs, dom.textContent))\n                ) {\n                setActive(item)\n              }\n            }}\n          />\n          { showInteract\n            ? <React.Suspense fallback={ <LoadEle /> }>\n                <Interact className=\"commit-layer\" {...article} />\n              </React.Suspense> \n            : <ScreenLoadEle \n                onShowChange={(isShow) => {\n                  console.log('loading', isShow)\n                  isShow && !showInteract && setShowInteract(isShow) \n                }\n                }\n              />\n          }\n        </React.Fragment>\n       }\n      right={ \n        <Navigation\n          className=\"navigation\"\n          title=\"目录列表\"\n          active={active}\n          list={article.dirs}\n          onClick={\n            (dir) => {\n              dir && (window.location.hash = dir.id.toString())\n              setActive(dir)\n            }\n          }\n        />\n      }\n    />\n  )\n}\n\nexport default ArticleInfo\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"interact-layer\":\"style_interact-layer__3RW7v\",\"section\":\"style_section__35c2f\",\"article-loading-layer\":\"style_article-loading-layer__3poja\",\"boundary\":\"style_boundary__1fW52\",\"article-reactions\":\"style_article-reactions__C-7H7\",\"reactions\":\"style_reactions__2UyqC\",\"join-columns\":\"style_join-columns__hceCl\",\"variable\":\"style_variable__2o4-B\",\"unauth\":\"style_unauth__N-OF7\",\"btns\":\"style_btns__3Ettn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bottom\":\"style_bottom__29qYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"columns\":\"style_columns__Y_UVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__GxMiF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"style_layer__3sbKs\"};","export default __webpack_public_path__ + \"static/media/portrait.df7a5375.jpg\";","import * as React from 'react'\nimport { homePath, queryRoutePath } from 'src/router'\nimport { Link } from 'react-router-dom'\nimport portrait from 'src/assets/images/portrait.jpg'\nimport styles from './style.module.scss'\n\ninterface navType {\n  text: string,\n  path: string\n}\ntype navsType = Array<navType>\n\nconst navsConfig: navsType = [\n  { text: '首页', path: homePath },\n  { text: '专题', path: queryRoutePath('archive') },\n  { text: '归档', path: queryRoutePath('special') }\n]\n\ntype SlideProps = {\n  className: string\n}\n\nconst Slide: React.FC<SlideProps> = (props) => {\n  const navs = navsConfig.map(({text, path}) =>(\n    <li key={path}>\n      <Link to={path}>{text}</Link>\n    </li>\n  ))\n\n  return (\n    <header className={`${props.className || ''} ${styles.slide}`}>\n      <Link to={homePath}>\n        <img src={portrait}  className={styles.portrait} alt=\"portrait\" />\n      </Link>\n      <div className={styles.content}>\n        <div className={styles.introduce}>\n          <h1>\n            <Link to={homePath}>bill-lai</Link>\n          </h1>\n          <p>专注 WEB 端开发</p>\n        </div>\n        <ul className={styles.navs}>\n          {navs}\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default Slide","import 'src/assets/style/reset.scss'\nimport 'src/assets/style/iconfont/iconfont.css'\nimport 'src/assets/style/public.scss'\n\nimport styles from './style.module.scss'\nimport * as React from 'react'\nimport { router,  homePath } from '../router'\nimport { \n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom'\nimport Slide from './layout/slide'\n\nconst App = () => {\n  const views = router.map(({path, Component}) => (\n    <Route exact path={path} key={path}><Component /></Route>\n  ))\n\n  return (\n    <React.StrictMode>\n      <div className={styles.app}>\n        <Slide className={styles.slide}></Slide>\n        <div className={styles.body}>\n          <Switch>\n            {views}\n            <Redirect to={homePath} />\n          </Switch>\n        </div>\n      </div>\n    </React.StrictMode>\n  )\n}\n\nexport default App","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './app';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { injectState } from './state'\nimport { injectPlatform } from './platform'\n\nif ((window as any).globalState) {\n  injectState((window as any).globalState)\n}\n\ninjectPlatform({\n  setAppTitle: title => document.title = title,\n  getAppTitle: () => document.title\n})\n\nReactDOM.hydrate(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}